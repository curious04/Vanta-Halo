webpackHotUpdate_N_E("pages/index",{

/***/ "./node_modules/vanta/dist/vanta.birds.min.js":
/*!****************************************************!*\
  !*** ./node_modules/vanta/dist/vanta.birds.min.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(e,t){ true?module.exports=t():undefined}("undefined"!=typeof self?self:this,(()=>(()=>{"use strict";var e={d:(t,i)=>{for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function i(){return"undefined"!=typeof navigator?/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600:null}e.r(t),e.d(t,{default:()=>P}),Number.prototype.clamp=function(e,t){return Math.min(Math.max(this,e),t)};function n(e){for(;e.children&&e.children.length>0;)n(e.children[0]),e.remove(e.children[0]);e.geometry&&e.geometry.dispose(),e.material&&(Object.keys(e.material).forEach((t=>{e.material[t]&&null!==e.material[t]&&"function"==typeof e.material[t].dispose&&e.material[t].dispose()})),e.material.dispose())}const o="object"==typeof window;let s=o&&window.THREE||{};o&&!window.VANTA&&(window.VANTA={});const r=o&&window.VANTA||{};r.register=(e,t)=>r[e]=e=>new t(e),r.version="0.5.24";const a=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};r.VantaBase=class{constructor(e={}){if(!o)return!1;r.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const t="function"==typeof this.getDefaultOptions?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},t),(e instanceof HTMLElement||"string"==typeof e)&&(e={el:e}),Object.assign(this.options,e),this.options.THREE&&(s=this.options.THREE),this.el=this.options.el,null==this.el)a('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const e=this.el;if(this.el=(i=e,document.querySelector(i)),!this.el)return void a("Cannot find element",e)}var i,n;this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(e){return a("Init error",e),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),void(this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=(n=this.options.backgroundColor,"number"==typeof n?"#"+("00000"+n.toString(16)).slice(-6):n)))}this.initMouse(),this.resize(),this.animationLoop();const l=window.addEventListener;l("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(l("scroll",this.windowMouseMoveWrapper),l("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(l("touchstart",this.windowTouchWrapper),l("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&l("deviceorientation",this.windowGyroWrapper)}setOptions(e={}){Object.assign(this.options,e),this.triggerMouseMove()}prepareEl(){let e,t;if("undefined"!=typeof Node&&Node.TEXT_NODE)for(e=0;e<this.el.childNodes.length;e++){const t=this.el.childNodes[e];if(t.nodeType===Node.TEXT_NODE){const e=document.createElement("span");e.textContent=t.textContent,t.parentElement.insertBefore(e,t),t.remove()}}for(e=0;e<this.el.children.length;e++)t=this.el.children[e],"static"===getComputedStyle(t).position&&(t.style.position="relative"),"auto"===getComputedStyle(t).zIndex&&(t.style.zIndex=1);"static"===getComputedStyle(this.el).position&&(this.el.style.position="relative")}applyCanvasStyles(e,t={}){Object.assign(e.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(e.style,t),e.classList.add("vanta-canvas")}initThree(){s.WebGLRenderer?(this.renderer=new s.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new s.Scene):console.warn("[VANTA] No THREE defined on window")}getCanvasElement(){return this.renderer?this.renderer.domElement:this.p5renderer?this.p5renderer.canvas:void 0}getCanvasRect(){const e=this.getCanvasElement();return!!e&&e.getBoundingClientRect()}windowMouseMoveWrapper(e){const t=this.getCanvasRect();if(!t)return!1;const i=e.clientX-t.left,n=e.clientY-t.top;i>=0&&n>=0&&i<=t.width&&n<=t.height&&(this.mouseX=i,this.mouseY=n,this.options.mouseEase||this.triggerMouseMove(i,n))}windowTouchWrapper(e){const t=this.getCanvasRect();if(!t)return!1;if(1===e.touches.length){const i=e.touches[0].clientX-t.left,n=e.touches[0].clientY-t.top;i>=0&&n>=0&&i<=t.width&&n<=t.height&&(this.mouseX=i,this.mouseY=n,this.options.mouseEase||this.triggerMouseMove(i,n))}}windowGyroWrapper(e){const t=this.getCanvasRect();if(!t)return!1;const i=Math.round(2*e.alpha)-t.left,n=Math.round(2*e.beta)-t.top;i>=0&&n>=0&&i<=t.width&&n<=t.height&&(this.mouseX=i,this.mouseY=n,this.options.mouseEase||this.triggerMouseMove(i,n))}triggerMouseMove(e,t){void 0===e&&void 0===t&&(this.options.mouseEase?(e=this.mouseEaseX,t=this.mouseEaseY):(e=this.mouseX,t=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=e/this.scale,this.uniforms.iMouse.value.y=t/this.scale);const i=e/this.width,n=t/this.height;"function"==typeof this.onMouseMove&&this.onMouseMove(i,n)}setSize(){this.scale||(this.scale=1),i()&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,"function"==typeof this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),"function"==typeof this.onResize&&this.onResize()}isOnScreen(){const e=this.el.offsetHeight,t=this.el.getBoundingClientRect(),i=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,n=t.top+i;return n-window.innerHeight<=i&&i<=n+e}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const e=performance.now();if(this.prevNow){let t=(e-this.prevNow)/(1e3/60);t=Math.max(.2,Math.min(t,5)),this.t+=t,this.t2+=(this.options.speed||1)*t,this.uniforms&&(this.uniforms.iTime.value=.016667*this.t2)}return this.prevNow=e,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=.05*(this.mouseX-this.mouseEaseX),this.mouseEaseY+=.05*(this.mouseY-this.mouseEaseY),this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&("function"==typeof this.onUpdate&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),"function"==typeof this.afterRender&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);"function"==typeof this.onRestart&&this.onRestart(),this.init()}init(){"function"==typeof this.onInit&&this.onInit()}destroy(){"function"==typeof this.onDestroy&&this.onDestroy();const e=window.removeEventListener;e("touchstart",this.windowTouchWrapper),e("touchmove",this.windowTouchWrapper),e("scroll",this.windowMouseMoveWrapper),e("mousemove",this.windowMouseMoveWrapper),e("deviceorientation",this.windowGyroWrapper),e("resize",this.resize),window.cancelAnimationFrame(this.req);const t=this.scene;t&&t.children&&n(t),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),r.current===this&&(r.current=null)}};const l=r.VantaBase;let h="object"==typeof window&&window.THREE,{Camera:c,ClampToEdgeWrapping:d,DataTexture:u,FloatType:p,Mesh:m,NearestFilter:f,PlaneBufferGeometry:v,RGBAFormat:y,Scene:g,ShaderMaterial:w,WebGLRenderTarget:b}=h||{};const x=function(e,t,i,n){n&&({Camera:c,ClampToEdgeWrapping:d,DataTexture:u,FloatType:p,Mesh:m,NearestFilter:f,PlaneBufferGeometry:v,RGBAFormat:y,Scene:g,ShaderMaterial:w,WebGLRenderTarget:b}=n),this.variables=[],this.currentTextureIndex=0;var o=p,s=new g,r=new c;r.position.z=1;var a={passThruTexture:{value:null}},l=T("uniform sampler2D passThruTexture;\n\nvoid main() {\n\n\tvec2 uv = gl_FragCoord.xy / resolution.xy;\n\n\tgl_FragColor = texture2D( passThruTexture, uv );\n\n}\n",a),h=new m(new v(2,2),l);function x(i){i.defines.resolution="vec2( "+e.toFixed(1)+", "+t.toFixed(1)+" )"}function T(e,t){var i=new w({uniforms:t=t||{},vertexShader:"void main()\t{\n\n\tgl_Position = vec4( position, 1.0 );\n\n}\n",fragmentShader:e});return x(i),i}s.add(h),this.setDataType=function(e){return o=e,this},this.addVariable=function(e,t,i){var n={name:e,initialValueTexture:i,material:this.createShaderMaterial(t),dependencies:null,renderTargets:[],wrapS:null,wrapT:null,minFilter:f,magFilter:f};return this.variables.push(n),n},this.setVariableDependencies=function(e,t){e.dependencies=t},this.init=function(){if(!i.capabilities.isWebGL2&&!i.extensions.get("OES_texture_float"))return"No OES_texture_float support for float textures.";if(0===i.capabilities.maxVertexTextures)return"No support for vertex shader textures.";for(var n=0;n<this.variables.length;n++){var o=this.variables[n];o.renderTargets[0]=this.createRenderTarget(e,t,o.wrapS,o.wrapT,o.minFilter,o.magFilter),o.renderTargets[1]=this.createRenderTarget(e,t,o.wrapS,o.wrapT,o.minFilter,o.magFilter),this.renderTexture(o.initialValueTexture,o.renderTargets[0]),this.renderTexture(o.initialValueTexture,o.renderTargets[1]);var s=o.material,r=s.uniforms;if(null!==o.dependencies)for(var a=0;a<o.dependencies.length;a++){var l=o.dependencies[a];if(l.name!==o.name){for(var h=!1,c=0;c<this.variables.length;c++)if(l.name===this.variables[c].name){h=!0;break}if(!h)return"Variable dependency not found. Variable="+o.name+", dependency="+l.name}r[l.name]={value:null},s.fragmentShader="\nuniform sampler2D "+l.name+";\n"+s.fragmentShader}}return this.currentTextureIndex=0,null},this.compute=function(){for(var e=this.currentTextureIndex,t=0===this.currentTextureIndex?1:0,i=0,n=this.variables.length;i<n;i++){var o=this.variables[i];if(null!==o.dependencies)for(var s=o.material.uniforms,r=0,a=o.dependencies.length;r<a;r++){var l=o.dependencies[r];s[l.name].value=l.renderTargets[e].texture}this.doRenderTarget(o.material,o.renderTargets[t])}this.currentTextureIndex=t},this.getCurrentRenderTarget=function(e){return e.renderTargets[this.currentTextureIndex]},this.getAlternateRenderTarget=function(e){return e.renderTargets[0===this.currentTextureIndex?1:0]},this.addResolutionDefine=x,this.createShaderMaterial=T,this.createRenderTarget=function(i,n,s,r,a,l){return new b(i=i||e,n=n||t,{wrapS:s=s||d,wrapT:r=r||d,minFilter:a=a||f,magFilter:l=l||f,format:y,type:o,stencilBuffer:!1,depthBuffer:!1})},this.createTexture=function(){var i=new Float32Array(e*t*4);return new u(i,e,t,y,p)},this.renderTexture=function(e,t){a.passThruTexture.value=e,this.doRenderTarget(l,t),a.passThruTexture.value=null},this.doRenderTarget=function(e,t){var n=i.getRenderTarget();h.material=e,i.setRenderTarget(t),i.render(s,r),h.material=l,i.setRenderTarget(n)}};let T="object"==typeof window&&window.THREE;const M=!i();let z=32,S=z*z;const C=800,V=(e={})=>{const t=new T.BufferGeometry,i=[];function n(t,n,o){const s=1.5*(e.birdSize||1);i.push(new T.Vector3(t*s,n*s,o*s))}n(5,0,0),n(-5,-1,1),n(-5,0,0),n(-5,-2,-1),n(0,2,-6),n(0,2,6),n(2,0,0),n(-3,0,0),t.setFromPoints(i);const o=[];return o.push(0,2,1),o.push(4,7,6),o.push(5,6,7),t.setIndex(o),t};class R{constructor(e){var t,i,n=new T.Vector3,o=500,s=500,r=200,a=.1,l=e;this.position=new T.Vector3,this.velocity=new T.Vector3,t=new T.Vector3,this.setGoal=function(e){i=e},this.setWorldSize=function(e,t,i){o=e,s=t,r=i},this.run=function(e){n.set(-o,this.position.y,this.position.z),(n=this.avoid(n)).multiplyScalar(5),t.add(n),n.set(o,this.position.y,this.position.z),(n=this.avoid(n)).multiplyScalar(5),t.add(n),n.set(this.position.x,-s,this.position.z),(n=this.avoid(n)).multiplyScalar(5),t.add(n),n.set(this.position.x,s,this.position.z),(n=this.avoid(n)).multiplyScalar(5),t.add(n),n.set(this.position.x,this.position.y,-r),(n=this.avoid(n)).multiplyScalar(5),t.add(n),n.set(this.position.x,this.position.y,r),(n=this.avoid(n)).multiplyScalar(5),t.add(n),Math.random()>.5&&this.flock(e),this.move()},this.flock=function(e){i&&t.add(this.reach(i,.005)),t.add(this.alignment(e)),t.add(this.cohesion(e)),t.add(this.separation(e))},this.move=function(){this.velocity.add(t);var e=this.velocity.length();e>2.5&&this.velocity.divideScalar(e/2.5),this.position.add(this.velocity),t.set(0,0,0)},this.checkBounds=function(){this.position.x>o&&(this.position.x=-o),this.position.x<-o&&(this.position.x=o),this.position.y>s&&(this.position.y=-s),this.position.y<-s&&(this.position.y=s),this.position.z>r&&(this.position.z=-r),this.position.z<-r&&(this.position.z=r)},this.avoid=function(e){var t=new T.Vector3;return t.copy(this.position),t.sub(e),t.multiplyScalar(1/this.position.distanceToSquared(e)),t},this.repulse=function(e){var i=this.position.distanceTo(e);if(i<150){var n=new T.Vector3;n.subVectors(this.position,e),n.multiplyScalar(.5/i),t.add(n)}},this.reach=function(e,t){var i=new T.Vector3;return i.subVectors(e,this.position),i.multiplyScalar(t),i},this.alignment=function(e){var t,i,n=new T.Vector3,o=0;const s=100*l.alignment/20;for(var r=0,h=e.length;r<h;r++)Math.random()>.6||(i=(t=e[r]).position.distanceTo(this.position))>0&&i<=s&&(n.add(t.velocity),o++);if(o>0){n.divideScalar(o);var c=n.length();c>a&&n.divideScalar(c/a)}return n},this.cohesion=function(e){var t,i,n=new T.Vector3,o=new T.Vector3,s=0;const r=100*l.cohesion/20;for(var h=0,c=e.length;h<c;h++)Math.random()>.6||(i=(t=e[h]).position.distanceTo(this.position))>0&&i<=r&&(n.add(t.position),s++);s>0&&n.divideScalar(s),o.subVectors(n,this.position);var d=o.length();return d>a&&o.divideScalar(d/a),o},this.separation=function(e){var t,i,n=new T.Vector3,o=new T.Vector3;const s=100*l.separation/20;for(var r=0,a=e.length;r<a;r++)Math.random()>.6||(i=(t=e[r]).position.distanceTo(this.position))>0&&i<=s&&(o.subVectors(this.position,t.position),o.normalize(),o.divideScalar(i),n.add(o));return n}}}class E extends l{static initClass(){this.prototype.defaultOptions={backgroundColor:465199,color1:16711680,color2:53759,colorMode:"varianceGradient",birdSize:1,wingSpan:30,speedLimit:5,separation:20,alignment:20,cohesion:20,quantity:5}}constructor(e){T=e.THREE||T,super(e)}initComputeRenderer(){this.gpuCompute=new x(z,z,this.renderer,T);const e=this.gpuCompute.createTexture(),t=this.gpuCompute.createTexture();!function(e){const t=e.image.data;let i=0;const n=t.length;(()=>{const e=[];for(;i<n;){const n=Math.random()*C-400,o=Math.random()*C-400,s=Math.random()*C-400;t[i+0]=n,t[i+1]=o,t[i+2]=s,t[i+3]=1,e.push(i+=4)}})()}(e),function(e){const t=e.image.data;let i=0;const n=t.length;(()=>{const e=[];for(;i<n;){const n=Math.random()-.5,o=Math.random()-.5,s=Math.random()-.5;t[i+0]=10*n,t[i+1]=10*o,t[i+2]=10*s,t[i+3]=1,e.push(i+=4)}})()}(t),this.velocityVariable=this.gpuCompute.addVariable("textureVelocity","uniform float time;\nuniform float testing;\nuniform float delta; // about 0.016\nuniform float separationDistance; // 20\nuniform float alignmentDistance; // 40\nuniform float cohesionDistance;\nuniform float speedLimit;\nuniform float freedomFactor;\nuniform vec3 predator;\n\nconst float width = resolution.x;\nconst float height = resolution.y;\n\nconst float PI = 3.141592653589793;\nconst float PI_2 = PI * 2.0;\n// const float VISION = PI * 0.55;\n\nfloat zoneRadius = 40.0;\nfloat zoneRadiusSquared = 1600.0;\n\nfloat separationThresh = 0.45;\nfloat alignmentThresh = 0.65;\n\nconst float UPPER_BOUNDS = BOUNDS;\nconst float LOWER_BOUNDS = -UPPER_BOUNDS;\n\nfloat rand(vec2 co){\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvoid main() {\n\n  zoneRadius = separationDistance + alignmentDistance + cohesionDistance;\n  separationThresh = separationDistance / zoneRadius;\n  alignmentThresh = ( separationDistance + alignmentDistance ) / zoneRadius;\n  zoneRadiusSquared = zoneRadius * zoneRadius;\n\n\n  vec2 uv = gl_FragCoord.xy / resolution.xy;\n  vec3 birdPosition, birdVelocity;\n\n  vec3 selfPosition = texture2D( texturePosition, uv ).xyz;\n  vec3 selfVelocity = texture2D( textureVelocity, uv ).xyz;\n\n  float dist;\n  vec3 dir; // direction\n  float distSquared;\n\n  float separationSquared = separationDistance * separationDistance;\n  float cohesionSquared = cohesionDistance * cohesionDistance;\n\n  float f;\n  float percent;\n\n  vec3 velocity = selfVelocity;\n\n  float limit = speedLimit;\n\n  dir = predator * UPPER_BOUNDS - selfPosition;\n  dir.z = 0.;\n  // dir.z *= 0.6;\n  dist = length( dir );\n  distSquared = dist * dist;\n\n  float preyRadius = 150.0;\n  float preyRadiusSq = preyRadius * preyRadius;\n\n  // move birds away from predator\n  if (dist < preyRadius) {\n\n    f = ( distSquared / preyRadiusSq - 1.0 ) * delta * 100.;\n    velocity += normalize( dir ) * f;\n    limit += 5.0;\n  }\n\n  // if (testing == 0.0) {}\n  // if ( rand( uv + time ) < freedomFactor ) {}\n\n  // Attract flocks to the center\n  vec3 central = vec3( 0., 0., 0. );\n  dir = selfPosition - central;\n  dist = length( dir );\n\n  dir.y *= 2.5;\n  velocity -= normalize( dir ) * delta * 5.;\n\n  for (float y=0.0;y<height;y++) {\n    for (float x=0.0;x<width;x++) {\n\n      vec2 ref = vec2( x + 0.5, y + 0.5 ) / resolution.xy;\n      birdPosition = texture2D( texturePosition, ref ).xyz;\n\n      dir = birdPosition - selfPosition;\n      dist = length(dir);\n\n      if (dist < 0.0001) continue;\n\n      distSquared = dist * dist;\n\n      if (distSquared > zoneRadiusSquared ) continue;\n\n      percent = distSquared / zoneRadiusSquared;\n\n      if ( percent < separationThresh ) { // low\n\n        // Separation - Move apart for comfort\n        f = (separationThresh / percent - 1.0) * delta;\n        velocity -= normalize(dir) * f;\n\n      } else if ( percent < alignmentThresh ) { // high\n\n        // Alignment - fly the same direction\n        float threshDelta = alignmentThresh - separationThresh;\n        float adjustedPercent = ( percent - separationThresh ) / threshDelta;\n\n        birdVelocity = texture2D( textureVelocity, ref ).xyz;\n\n        f = ( 0.5 - cos( adjustedPercent * PI_2 ) * 0.5 + 0.5 ) * delta;\n        velocity += normalize(birdVelocity) * f;\n\n      } else {\n\n        // Attraction / Cohesion - move closer\n        float threshDelta = 1.0 - alignmentThresh;\n        float adjustedPercent = ( percent - alignmentThresh ) / threshDelta;\n\n        f = ( 0.5 - ( cos( adjustedPercent * PI_2 ) * -0.5 + 0.5 ) ) * delta;\n\n        velocity += normalize(dir) * f;\n\n      }\n    }\n  }\n\n  // this make tends to fly around than down or up\n  // if (velocity.y > 0.) velocity.y *= (1. - 0.2 * delta);\n\n  // Speed Limits\n  if ( length( velocity ) > limit ) {\n    velocity = normalize( velocity ) * limit;\n  }\n\n  gl_FragColor = vec4( velocity, 1.0 );\n\n}",t),this.positionVariable=this.gpuCompute.addVariable("texturePosition","uniform float time;\nuniform float delta;\n\nvoid main() {\n\n  vec2 uv = gl_FragCoord.xy / resolution.xy;\n  vec4 tmpPos = texture2D( texturePosition, uv );\n  vec3 position = tmpPos.xyz;\n  vec3 velocity = texture2D( textureVelocity, uv ).xyz;\n\n  float phase = tmpPos.w;\n\n  phase = mod( ( phase + delta +\n    length( velocity.xz ) * delta * 3. +\n    max( velocity.y, 0.0 ) * delta * 6. ), 62.83 );\n\n  gl_FragColor = vec4( position + velocity * delta * 15. , phase );\n\n}",e),this.gpuCompute.setVariableDependencies(this.velocityVariable,[this.positionVariable,this.velocityVariable]),this.gpuCompute.setVariableDependencies(this.positionVariable,[this.positionVariable,this.velocityVariable]),this.positionUniforms=this.positionVariable.material.uniforms,this.velocityUniforms=this.velocityVariable.material.uniforms,this.positionUniforms.time={value:0},this.positionUniforms.delta={value:0},this.velocityUniforms.time={value:1},this.velocityUniforms.delta={value:0},this.velocityUniforms.testing={value:1},this.velocityUniforms.separationDistance={value:1},this.velocityUniforms.alignmentDistance={value:1},this.velocityUniforms.cohesionDistance={value:1},this.velocityUniforms.speedLimit={value:1},this.velocityUniforms.freedomFactor={value:1},this.velocityUniforms.predator={value:new T.Vector3},this.velocityVariable.material.defines.BOUNDS=C.toFixed(2),this.velocityVariable.wrapS=T.RepeatWrapping,this.velocityVariable.wrapT=T.RepeatWrapping,this.positionVariable.wrapS=T.RepeatWrapping,this.positionVariable.wrapT=T.RepeatWrapping;const i=this.gpuCompute.init();null!==i&&console.error(i)}initGpgpuBirds(){const e=(e=>{const t=new T.BufferGeometry;e.quantity&&(z=Math.pow(2,e.quantity),S=z*z);const i=3*S,n=3*i,o=new T.BufferAttribute(new Float32Array(3*n),3),s=new T.BufferAttribute(new Float32Array(3*n),3),r=new T.BufferAttribute(new Float32Array(2*n),2),a=new T.BufferAttribute(new Float32Array(n),1);t.setAttribute||(t.setAttribute=t.addAttribute),t.setAttribute("position",o),t.setAttribute("birdColor",s),t.setAttribute("reference",r),t.setAttribute("birdVertex",a);let l=0;const h=function(){for(let e=0;e<arguments.length;e++)o.array[l++]=arguments[e]},c=e.wingSpan||20,d=e.birdSize||1;for(let e=0;e<S;e++)h(0,-0,-20*d,0,4*d,-20*d,0,0,30*d),h(0,0,-15*d,-c*d,0,0,0,0,15*d),h(0,0,15*d,c*d,0,0,0,0,-15*d);const u={};for(l=0;l<3*i;l++){const t=~~(l/3),i=t%z/z,n=~~(t/z)/z,o=~~(l/9)/S,h=o.toString(),c=-1!=e.colorMode.indexOf("Gradient");let d;d=!c&&u[h]?u[h]:e.effect.getNewCol(o),c||u[h]||(u[h]=d),s.array[3*l+0]=d.r,s.array[3*l+1]=d.g,s.array[3*l+2]=d.b,r.array[2*l]=i,r.array[2*l+1]=n,a.array[l]=l%9}return t.scale(.2,.2,.2)})(Object.assign({},this.options,{effect:this}));this.birdUniforms={color:{value:new T.Color(16720384)},texturePosition:{value:null},textureVelocity:{value:null},time:{value:1},delta:{value:0},birdSize:{value:this.options.birdSize}};const t=new T.ShaderMaterial({uniforms:this.birdUniforms,vertexShader:"attribute vec2 reference;\nattribute float birdVertex;\n\nattribute vec3 birdColor;\n\nuniform sampler2D texturePosition;\nuniform sampler2D textureVelocity;\n\nvarying vec4 vColor;\nvarying float z;\n\nuniform float time;\nuniform float birdSize;\n\nvoid main() {\n\n  vec4 tmpPos = texture2D( texturePosition, reference );\n  vec3 pos = tmpPos.xyz;\n  vec3 velocity = normalize(texture2D( textureVelocity, reference ).xyz);\n\n  vec3 newPosition = position;\n\n  if ( birdVertex == 4.0 || birdVertex == 7.0 ) {\n    // flap wings\n    newPosition.y = sin( tmpPos.w ) * 5. * birdSize;\n  }\n\n  newPosition = mat3( modelMatrix ) * newPosition;\n\n  velocity.z *= -1.;\n  float xz = length( velocity.xz );\n  float xyz = 1.;\n  float x = sqrt( 1. - velocity.y * velocity.y );\n\n  float cosry = velocity.x / xz;\n  float sinry = velocity.z / xz;\n\n  float cosrz = x / xyz;\n  float sinrz = velocity.y / xyz;\n\n  mat3 maty =  mat3(\n    cosry, 0, -sinry,\n    0    , 1, 0     ,\n    sinry, 0, cosry\n  );\n\n  mat3 matz =  mat3(\n    cosrz , sinrz, 0,\n    -sinrz, cosrz, 0,\n    0     , 0    , 1\n  );\n  newPosition =  maty * matz * newPosition;\n  newPosition += pos;\n  z = newPosition.z;\n\n  vColor = vec4( birdColor, 1.0 );\n  gl_Position = projectionMatrix *  viewMatrix  * vec4( newPosition, 1.0 );\n}",fragmentShader:"varying vec4 vColor;\nvarying float z;\nuniform vec3 color;\nvoid main() {\n  // Fake colors for now\n  float rr = 0.2 + ( 1000. - z ) / 1000. * vColor.x;\n  float gg = 0.2 + ( 1000. - z ) / 1000. * vColor.y;\n  float bb = 0.2 + ( 1000. - z ) / 1000. * vColor.z;\n  gl_FragColor = vec4( rr, gg, bb, 1. );\n}",side:T.DoubleSide}),i=new T.Mesh(e,t);return i.rotation.y=Math.PI/2,i.matrixAutoUpdate=!1,i.updateMatrix(),this.scene.add(i)}getNewCol(e){const t=this.options,i=null!=t.color1?t.color1:4456448,n=null!=t.color2?t.color2:6684672,o=new T.Color(i),s=new T.Color(n);let r,a;if(a=-1!=t.colorMode.indexOf("Gradient")?Math.random():e,0==t.colorMode.indexOf("variance")){const e=(o.r+Math.random()*s.r).clamp(0,1),t=(o.g+Math.random()*s.g).clamp(0,1),i=(o.b+Math.random()*s.b).clamp(0,1);r=new T.Color(e,t,i)}else r=0==t.colorMode.indexOf("mix")?new T.Color(i+a*n):o.lerp(s,a);return r}onInit(){this.camera=new T.PerspectiveCamera(75,this.width/this.height,1,3e3),this.camera.position.z=350,this.fog=new T.Fog(16777215,100,1e3),this.mouseX=this.mouseY=0;const e=this.birds=[],t=this.boids=[],i=this.options;let n,o;if(M)try{this.initComputeRenderer(),this.valuesChanger=this.valuesChanger.bind(this),this.valuesChanger(),this.initGpgpuBirds()}catch(e){console.error("[vanta.js] birds init error: ",e)}else{const l=6*Math.pow(2,i.quantity);for(var s=0;s<l;s++){n=t[s]=new R(i),n.position.x=400*Math.random()-200,n.position.y=400*Math.random()-200,n.position.z=400*Math.random()-200,n.velocity.x=2*Math.random()-1,n.velocity.y=2*Math.random()-1,n.velocity.z=2*Math.random()-1,n.setWorldSize(500,500,300);const h=-1!=i.colorMode.indexOf("Gradient"),c=V(i),d=c.attributes.position.length,u=new T.BufferAttribute(new Float32Array(d),3);if(h)for(var r=0;r<c.index.array.length;r+=3)for(var a=0;a<=2;a++){const e=c.index.array[r+a],t=this.getNewCol();u.array[3*e]=t.r,u.array[3*e+1]=t.g,u.array[3*e+2]=t.b}else{const e=this.getNewCol(s/l);for(r=0;r<u.array.length;r+=3)u.array[r]=e.r,u.array[r+1]=e.g,u.array[r+2]=e.b}c.setAttribute("color",u),o=e[s]=new T.Mesh(c,new T.MeshBasicMaterial({color:16777215,side:T.DoubleSide,vertexColors:T.VertexColors})),o.phase=Math.floor(62.83*Math.random()),o.position.x=t[s].position.x,o.position.y=t[s].position.y,o.position.z=t[s].position.z,this.scene.add(o)}}}valuesChanger(){this.velocityUniforms&&(this.velocityUniforms.separationDistance.value=this.options.separation,this.velocityUniforms.alignmentDistance.value=this.options.alignment,this.velocityUniforms.speedLimit.value=this.options.speedLimit,this.velocityUniforms.cohesionDistance.value=this.options.cohesion)}onUpdate(){this.now=performance.now(),this.last||(this.last=this.now);let e=(this.now-this.last)/1e3;if(e>1&&(e=1),this.last=this.now,M)this.positionUniforms.time.value=this.now,this.positionUniforms.delta.value=e,this.velocityUniforms.time.value=this.now,this.velocityUniforms.delta.value=e,this.birdUniforms.time.value=this.now,this.birdUniforms.delta.value=e,this.velocityUniforms.predator.value.set(this.mouseX,-this.mouseY,0),this.mouseX=1e4,this.mouseY=1e4,this.gpuCompute.compute(),this.birdUniforms.texturePosition.value=this.gpuCompute.getCurrentRenderTarget(this.positionVariable).texture,this.birdUniforms.textureVelocity.value=this.gpuCompute.getCurrentRenderTarget(this.velocityVariable).texture;else{const e=this.birds,n=this.boids;let o,s;for(var t=0,i=e.length;t<i;t++){o=n[t],o.run(n),s=e[t],s.rotation.y=Math.atan2(-o.velocity.z,o.velocity.x),s.rotation.z=Math.asin(o.velocity.y/o.velocity.length()),s.phase=(s.phase+(Math.max(0,s.rotation.z)+.1))%62.83;const i=16,r=13;s.geometry.attributes.position.array[i]=s.geometry.attributes.position.array[r]=5*Math.sin(s.phase)*this.options.birdSize,s.geometry.attributes.position.needsUpdate=!0,s.geometry.computeVertexNormals(),s.position.x=n[t].position.x,s.position.y=n[t].position.y,s.position.z=n[t].position.z}}}onMouseMove(e,t){if(this.mouseX=e-.5,this.mouseY=t-.5,!M){const e=this.boids;let t;for(var i=new T.Vector3(this.mouseX*this.width,-this.mouseY*this.height,0),n=0,o=e.length;n<o;n++)t=e[n],i.z=t.position.z,t.repulse(i)}}onDestroy(){}onResize(){}}E.initClass();const P=r.register("BIRDS",E);return t})()));

/***/ }),

/***/ "./node_modules/vanta/dist/vanta.dots.min.js":
false,

/***/ "./pages/index.js":
/*!************************!*\
  !*** ./pages/index.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Home; });
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/head */ "./node_modules/next/dist/next-server/lib/head.js");
/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _styles_Home_module_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../styles/Home.module.css */ "./styles/Home.module.css");
/* harmony import */ var _styles_Home_module_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_styles_Home_module_css__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var vanta_dist_vanta_birds_min__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vanta/dist/vanta.birds.min */ "./node_modules/vanta/dist/vanta.birds.min.js");
/* harmony import */ var vanta_dist_vanta_birds_min__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(vanta_dist_vanta_birds_min__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");
/* harmony import */ var reactstrap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! reactstrap */ "./node_modules/reactstrap/dist/reactstrap.module.js");


var _jsxFileName = "C:\\Users\\hrith\\OneDrive\\Desktop\\halo - Copy\\pages\\index.js",
    _s = $RefreshSig$();







 // import { Link } from "react-router-dom";
// import "../styles/hero-section.css";

function Home() {
  _s();

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(0),
      vantaEffect = _useState[0],
      setVantaEffect = _useState[1];

  var vantaRef = Object(react__WEBPACK_IMPORTED_MODULE_1__["useRef"])(null);
  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    if (!vantaEffect) {
      setVantaEffect(vanta_dist_vanta_birds_min__WEBPACK_IMPORTED_MODULE_4___default()({
        el: vantaRef.current,
        THREE: three__WEBPACK_IMPORTED_MODULE_5__,
        // color: 0x14b679,
        // backgroundColor: 0x15173c,
        // maxDistance: 34.0,
        // highlightColor: 0xed004d,
        // midtoneColor: 0x20b4c2,
        // lowlightColor: 0xffffff,
        // baseColor: 0xffffff
        // mouseControls: true,
        // touchControls: true,
        // gyroControls: false,
        // minHeight: 200.00,
        // minWidth: 200.00
        // mouseControls: true,
        // touchControls: true,
        // gyroControls: false,
        // minHeight: 200.00,
        // minWidth: 200.00,
        // waveSpeed: 10,
        // shininess: 50,
        // scale: 1.00,
        // scaleMobile: 1.00,
        mouseControls: true,
        touchControls: true,
        gyroControls: false,
        minHeight: 200.00,
        minWidth: 200.00,
        scale: 1.00,
        scaleMobile: 1.00
      }));
    }

    return function () {
      if (vantaEffect) vantaEffect.destory();
    };
  }, [vantaEffect]);
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])("div", {
    className: _styles_Home_module_css__WEBPACK_IMPORTED_MODULE_3___default.a.container,
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])(next_head__WEBPACK_IMPORTED_MODULE_2___default.a, {
      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])("title", {
        children: "Chains"
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 69,
        columnNumber: 9
      }, this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 68,
      columnNumber: 7
    }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])("main", {
      className: _styles_Home_module_css__WEBPACK_IMPORTED_MODULE_3___default.a.main,
      ref: vantaRef
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 73,
      columnNumber: 7
    }, this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 67,
    columnNumber: 5
  }, this);
}

_s(Home, "th4KrIfMInCIyLzMMy9xpigeg3E=");

_c = Home;

var _c;

$RefreshReg$(_c, "Home");

;
    var _a, _b;
    // Legacy CSS implementations will `eval` browser code in a Node.js context
    // to extract CSS. For backwards compatibility, we need to check we're in a
    // browser context before continuing.
    if (typeof self !== 'undefined' &&
        // AMP / No-JS mode does not inject these helpers:
        '$RefreshHelpers$' in self) {
        var currentExports = module.__proto__.exports;
        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;
        // This cannot happen in MainTemplate because the exports mismatch between
        // templating and execution.
        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.i);
        // A module can be accepted automatically based on its exports, e.g. when
        // it is a Refresh Boundary.
        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {
            // Save the previous exports on update so we can compare the boundary
            // signatures.
            module.hot.dispose(function (data) {
                data.prevExports = currentExports;
            });
            // Unconditionally accept an update to this module, we'll check if it's
            // still a Refresh Boundary later.
            module.hot.accept();
            // This field is set when the previous version of this module was a
            // Refresh Boundary, letting us know we need to check for invalidation or
            // enqueue an update.
            if (prevExports !== null) {
                // A boundary can become ineligible if its exports are incompatible
                // with the previous exports.
                //
                // For example, if you add/remove/change exports, we'll want to
                // re-execute the importing modules, and force those components to
                // re-render. Similarly, if you convert a class component to a
                // function, we want to invalidate the boundary.
                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {
                    module.hot.invalidate();
                }
                else {
                    self.$RefreshHelpers$.scheduleUpdate();
                }
            }
        }
        else {
            // Since we just executed the code for the module, it's possible that the
            // new exports made it ineligible for being a boundary.
            // We only care about the case when we were _previously_ a boundary,
            // because we already accepted this update (accidental side effect).
            var isNoLongerABoundary = prevExports !== null;
            if (isNoLongerABoundary) {
                module.hot.invalidate();
            }
        }
    }

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../node_modules/webpack/buildin/harmony-module.js */ "./node_modules/webpack/buildin/harmony-module.js")(module)))

/***/ })

})
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3ZhbnRhL2Rpc3QvdmFudGEuYmlyZHMubWluLmpzIiwid2VicGFjazovL19OX0UvLi9wYWdlcy9pbmRleC5qcyJdLCJuYW1lcyI6WyJIb21lIiwidXNlU3RhdGUiLCJ2YW50YUVmZmVjdCIsInNldFZhbnRhRWZmZWN0IiwidmFudGFSZWYiLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJIQUxPIiwiZWwiLCJjdXJyZW50IiwiVEhSRUUiLCJtb3VzZUNvbnRyb2xzIiwidG91Y2hDb250cm9scyIsImd5cm9Db250cm9scyIsIm1pbkhlaWdodCIsIm1pbldpZHRoIiwic2NhbGUiLCJzY2FsZU1vYmlsZSIsImRlc3RvcnkiLCJzdHlsZXMiLCJjb250YWluZXIiLCJtYWluIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxlQUFlLEtBQWlELG9CQUFvQixTQUF1SCxDQUFDLCtDQUErQyxhQUFhLE9BQU8sVUFBVSwrREFBK0QsdUJBQXVCLEVBQUUsMERBQTBELDRGQUE0RixlQUFlLHdDQUF3QyxTQUFTLEdBQUcsTUFBTSxhQUFhLDJKQUEySixjQUFjLGNBQWMsdUNBQXVDLHFDQUFxQyxjQUFjLEtBQUssZ0NBQWdDLDBDQUEwQyxtRkFBbUYsdUdBQXVHLHlCQUF5QixnQ0FBZ0MsMEJBQTBCLGtDQUFrQyxFQUFFLDRCQUE0QixzREFBc0QsbUJBQW1CLDhGQUE4RixrQkFBa0IsZ0JBQWdCLEVBQUUsZUFBZSwrVEFBK1QsK0ZBQStGLCtCQUErQixtR0FBbUcsd0RBQXdELEtBQUssaUpBQWlKLG1EQUFtRCxnQkFBZ0IsMkZBQTJGLFFBQVEsaURBQWlELElBQUksWUFBWSxTQUFTLG1VQUFtVSxvREFBb0QsZ0NBQWdDLHlXQUF5VyxlQUFlLEVBQUUsc0RBQXNELFlBQVksUUFBUSxvREFBb0QsNEJBQTRCLEtBQUssOEJBQThCLGdDQUFnQyx1Q0FBdUMsMEVBQTBFLFFBQVEsMEJBQTBCLHlKQUF5SixtRkFBbUYsd0JBQXdCLEVB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LFVBREY7QUFhRDs7R0FwRXVCSixJOztLQUFBQSxJIiwiZmlsZSI6InN0YXRpYy93ZWJwYWNrL3BhZ2VzL2luZGV4LmJiNGMxOTRjZTQ4YmE4YmMzMTdiLmhvdC11cGRhdGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSx0KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLl92YW50YUVmZmVjdD10KCk6ZS5fdmFudGFFZmZlY3Q9dCgpfShcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsKCgpPT4oKCk9PntcInVzZSBzdHJpY3RcIjt2YXIgZT17ZDoodCxpKT0+e2Zvcih2YXIgbiBpbiBpKWUubyhpLG4pJiYhZS5vKHQsbikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se2VudW1lcmFibGU6ITAsZ2V0Omlbbl19KX0sbzooZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCkscjplPT57XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX19LHQ9e307ZnVuY3Rpb24gaSgpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3I/L0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfHx3aW5kb3cuaW5uZXJXaWR0aDw2MDA6bnVsbH1lLnIodCksZS5kKHQse2RlZmF1bHQ6KCk9PlB9KSxOdW1iZXIucHJvdG90eXBlLmNsYW1wPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHRoaXMsZSksdCl9O2Z1bmN0aW9uIG4oZSl7Zm9yKDtlLmNoaWxkcmVuJiZlLmNoaWxkcmVuLmxlbmd0aD4wOyluKGUuY2hpbGRyZW5bMF0pLGUucmVtb3ZlKGUuY2hpbGRyZW5bMF0pO2UuZ2VvbWV0cnkmJmUuZ2VvbWV0cnkuZGlzcG9zZSgpLGUubWF0ZXJpYWwmJihPYmplY3Qua2V5cyhlLm1hdGVyaWFsKS5mb3JFYWNoKCh0PT57ZS5tYXRlcmlhbFt0XSYmbnVsbCE9PWUubWF0ZXJpYWxbdF0mJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUubWF0ZXJpYWxbdF0uZGlzcG9zZSYmZS5tYXRlcmlhbFt0XS5kaXNwb3NlKCl9KSksZS5tYXRlcmlhbC5kaXNwb3NlKCkpfWNvbnN0IG89XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdztsZXQgcz1vJiZ3aW5kb3cuVEhSRUV8fHt9O28mJiF3aW5kb3cuVkFOVEEmJih3aW5kb3cuVkFOVEE9e30pO2NvbnN0IHI9byYmd2luZG93LlZBTlRBfHx7fTtyLnJlZ2lzdGVyPShlLHQpPT5yW2VdPWU9Pm5ldyB0KGUpLHIudmVyc2lvbj1cIjAuNS4yNFwiO2NvbnN0IGE9ZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnVuc2hpZnQuY2FsbChhcmd1bWVudHMsXCJbVkFOVEFdXCIpLGNvbnNvbGUuZXJyb3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyLlZhbnRhQmFzZT1jbGFzc3tjb25zdHJ1Y3RvcihlPXt9KXtpZighbylyZXR1cm4hMTtyLmN1cnJlbnQ9dGhpcyx0aGlzLndpbmRvd01vdXNlTW92ZVdyYXBwZXI9dGhpcy53aW5kb3dNb3VzZU1vdmVXcmFwcGVyLmJpbmQodGhpcyksdGhpcy53aW5kb3dUb3VjaFdyYXBwZXI9dGhpcy53aW5kb3dUb3VjaFdyYXBwZXIuYmluZCh0aGlzKSx0aGlzLndpbmRvd0d5cm9XcmFwcGVyPXRoaXMud2luZG93R3lyb1dyYXBwZXIuYmluZCh0aGlzKSx0aGlzLnJlc2l6ZT10aGlzLnJlc2l6ZS5iaW5kKHRoaXMpLHRoaXMuYW5pbWF0aW9uTG9vcD10aGlzLmFuaW1hdGlvbkxvb3AuYmluZCh0aGlzKSx0aGlzLnJlc3RhcnQ9dGhpcy5yZXN0YXJ0LmJpbmQodGhpcyk7Y29uc3QgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLmdldERlZmF1bHRPcHRpb25zP3RoaXMuZ2V0RGVmYXVsdE9wdGlvbnMoKTp0aGlzLmRlZmF1bHRPcHRpb25zO2lmKHRoaXMub3B0aW9ucz1PYmplY3QuYXNzaWduKHttb3VzZUNvbnRyb2xzOiEwLHRvdWNoQ29udHJvbHM6ITAsZ3lyb0NvbnRyb2xzOiExLG1pbkhlaWdodDoyMDAsbWluV2lkdGg6MjAwLHNjYWxlOjEsc2NhbGVNb2JpbGU6MX0sdCksKGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudHx8XCJzdHJpbmdcIj09dHlwZW9mIGUpJiYoZT17ZWw6ZX0pLE9iamVjdC5hc3NpZ24odGhpcy5vcHRpb25zLGUpLHRoaXMub3B0aW9ucy5USFJFRSYmKHM9dGhpcy5vcHRpb25zLlRIUkVFKSx0aGlzLmVsPXRoaXMub3B0aW9ucy5lbCxudWxsPT10aGlzLmVsKWEoJ0luc3RhbmNlIG5lZWRzIFwiZWxcIiBwYXJhbSEnKTtlbHNlIGlmKCEodGhpcy5vcHRpb25zLmVsIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKXtjb25zdCBlPXRoaXMuZWw7aWYodGhpcy5lbD0oaT1lLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaSkpLCF0aGlzLmVsKXJldHVybiB2b2lkIGEoXCJDYW5ub3QgZmluZCBlbGVtZW50XCIsZSl9dmFyIGksbjt0aGlzLnByZXBhcmVFbCgpLHRoaXMuaW5pdFRocmVlKCksdGhpcy5zZXRTaXplKCk7dHJ5e3RoaXMuaW5pdCgpfWNhdGNoKGUpe3JldHVybiBhKFwiSW5pdCBlcnJvclwiLGUpLHRoaXMucmVuZGVyZXImJnRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCYmdGhpcy5lbC5yZW1vdmVDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpLHZvaWQodGhpcy5vcHRpb25zLmJhY2tncm91bmRDb2xvciYmKGNvbnNvbGUubG9nKFwiW1ZBTlRBXSBGYWxsaW5nIGJhY2sgdG8gYmFja2dyb3VuZENvbG9yXCIpLHRoaXMuZWwuc3R5bGUuYmFja2dyb3VuZD0obj10aGlzLm9wdGlvbnMuYmFja2dyb3VuZENvbG9yLFwibnVtYmVyXCI9PXR5cGVvZiBuP1wiI1wiKyhcIjAwMDAwXCIrbi50b1N0cmluZygxNikpLnNsaWNlKC02KTpuKSkpfXRoaXMuaW5pdE1vdXNlKCksdGhpcy5yZXNpemUoKSx0aGlzLmFuaW1hdGlvbkxvb3AoKTtjb25zdCBsPXdpbmRvdy5hZGRFdmVudExpc3RlbmVyO2woXCJyZXNpemVcIix0aGlzLnJlc2l6ZSksd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnJlc2l6ZSksdGhpcy5vcHRpb25zLm1vdXNlQ29udHJvbHMmJihsKFwic2Nyb2xsXCIsdGhpcy53aW5kb3dNb3VzZU1vdmVXcmFwcGVyKSxsKFwibW91c2Vtb3ZlXCIsdGhpcy53aW5kb3dNb3VzZU1vdmVXcmFwcGVyKSksdGhpcy5vcHRpb25zLnRvdWNoQ29udHJvbHMmJihsKFwidG91Y2hzdGFydFwiLHRoaXMud2luZG93VG91Y2hXcmFwcGVyKSxsKFwidG91Y2htb3ZlXCIsdGhpcy53aW5kb3dUb3VjaFdyYXBwZXIpKSx0aGlzLm9wdGlvbnMuZ3lyb0NvbnRyb2xzJiZsKFwiZGV2aWNlb3JpZW50YXRpb25cIix0aGlzLndpbmRvd0d5cm9XcmFwcGVyKX1zZXRPcHRpb25zKGU9e30pe09iamVjdC5hc3NpZ24odGhpcy5vcHRpb25zLGUpLHRoaXMudHJpZ2dlck1vdXNlTW92ZSgpfXByZXBhcmVFbCgpe2xldCBlLHQ7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIE5vZGUmJk5vZGUuVEVYVF9OT0RFKWZvcihlPTA7ZTx0aGlzLmVsLmNoaWxkTm9kZXMubGVuZ3RoO2UrKyl7Y29uc3QgdD10aGlzLmVsLmNoaWxkTm9kZXNbZV07aWYodC5ub2RlVHlwZT09PU5vZGUuVEVYVF9OT0RFKXtjb25zdCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2UudGV4dENvbnRlbnQ9dC50ZXh0Q29udGVudCx0LnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKGUsdCksdC5yZW1vdmUoKX19Zm9yKGU9MDtlPHRoaXMuZWwuY2hpbGRyZW4ubGVuZ3RoO2UrKyl0PXRoaXMuZWwuY2hpbGRyZW5bZV0sXCJzdGF0aWNcIj09PWdldENvbXB1dGVkU3R5bGUodCkucG9zaXRpb24mJih0LnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIiksXCJhdXRvXCI9PT1nZXRDb21wdXRlZFN0eWxlKHQpLnpJbmRleCYmKHQuc3R5bGUuekluZGV4PTEpO1wic3RhdGljXCI9PT1nZXRDb21wdXRlZFN0eWxlKHRoaXMuZWwpLnBvc2l0aW9uJiYodGhpcy5lbC5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIpfWFwcGx5Q2FudmFzU3R5bGVzKGUsdD17fSl7T2JqZWN0LmFzc2lnbihlLnN0eWxlLHtwb3NpdGlvbjpcImFic29sdXRlXCIsekluZGV4OjAsdG9wOjAsbGVmdDowLGJhY2tncm91bmQ6XCJcIn0pLE9iamVjdC5hc3NpZ24oZS5zdHlsZSx0KSxlLmNsYXNzTGlzdC5hZGQoXCJ2YW50YS1jYW52YXNcIil9aW5pdFRocmVlKCl7cy5XZWJHTFJlbmRlcmVyPyh0aGlzLnJlbmRlcmVyPW5ldyBzLldlYkdMUmVuZGVyZXIoe2FscGhhOiEwLGFudGlhbGlhczohMH0pLHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KSx0aGlzLmFwcGx5Q2FudmFzU3R5bGVzKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCksaXNOYU4odGhpcy5vcHRpb25zLmJhY2tncm91bmRBbHBoYSkmJih0aGlzLm9wdGlvbnMuYmFja2dyb3VuZEFscGhhPTEpLHRoaXMuc2NlbmU9bmV3IHMuU2NlbmUpOmNvbnNvbGUud2FybihcIltWQU5UQV0gTm8gVEhSRUUgZGVmaW5lZCBvbiB3aW5kb3dcIil9Z2V0Q2FudmFzRWxlbWVudCgpe3JldHVybiB0aGlzLnJlbmRlcmVyP3RoaXMucmVuZGVyZXIuZG9tRWxlbWVudDp0aGlzLnA1cmVuZGVyZXI/dGhpcy5wNXJlbmRlcmVyLmNhbnZhczp2b2lkIDB9Z2V0Q2FudmFzUmVjdCgpe2NvbnN0IGU9dGhpcy5nZXRDYW52YXNFbGVtZW50KCk7cmV0dXJuISFlJiZlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfXdpbmRvd01vdXNlTW92ZVdyYXBwZXIoZSl7Y29uc3QgdD10aGlzLmdldENhbnZhc1JlY3QoKTtpZighdClyZXR1cm4hMTtjb25zdCBpPWUuY2xpZW50WC10LmxlZnQsbj1lLmNsaWVudFktdC50b3A7aT49MCYmbj49MCYmaTw9dC53aWR0aCYmbjw9dC5oZWlnaHQmJih0aGlzLm1vdXNlWD1pLHRoaXMubW91c2VZPW4sdGhpcy5vcHRpb25zLm1vdXNlRWFzZXx8dGhpcy50cmlnZ2VyTW91c2VNb3ZlKGksbikpfXdpbmRvd1RvdWNoV3JhcHBlcihlKXtjb25zdCB0PXRoaXMuZ2V0Q2FudmFzUmVjdCgpO2lmKCF0KXJldHVybiExO2lmKDE9PT1lLnRvdWNoZXMubGVuZ3RoKXtjb25zdCBpPWUudG91Y2hlc1swXS5jbGllbnRYLXQubGVmdCxuPWUudG91Y2hlc1swXS5jbGllbnRZLXQudG9wO2k+PTAmJm4+PTAmJmk8PXQud2lkdGgmJm48PXQuaGVpZ2h0JiYodGhpcy5tb3VzZVg9aSx0aGlzLm1vdXNlWT1uLHRoaXMub3B0aW9ucy5tb3VzZUVhc2V8fHRoaXMudHJpZ2dlck1vdXNlTW92ZShpLG4pKX19d2luZG93R3lyb1dyYXBwZXIoZSl7Y29uc3QgdD10aGlzLmdldENhbnZhc1JlY3QoKTtpZighdClyZXR1cm4hMTtjb25zdCBpPU1hdGgucm91bmQoMiplLmFscGhhKS10LmxlZnQsbj1NYXRoLnJvdW5kKDIqZS5iZXRhKS10LnRvcDtpPj0wJiZuPj0wJiZpPD10LndpZHRoJiZuPD10LmhlaWdodCYmKHRoaXMubW91c2VYPWksdGhpcy5tb3VzZVk9bix0aGlzLm9wdGlvbnMubW91c2VFYXNlfHx0aGlzLnRyaWdnZXJNb3VzZU1vdmUoaSxuKSl9dHJpZ2dlck1vdXNlTW92ZShlLHQpe3ZvaWQgMD09PWUmJnZvaWQgMD09PXQmJih0aGlzLm9wdGlvbnMubW91c2VFYXNlPyhlPXRoaXMubW91c2VFYXNlWCx0PXRoaXMubW91c2VFYXNlWSk6KGU9dGhpcy5tb3VzZVgsdD10aGlzLm1vdXNlWSkpLHRoaXMudW5pZm9ybXMmJih0aGlzLnVuaWZvcm1zLmlNb3VzZS52YWx1ZS54PWUvdGhpcy5zY2FsZSx0aGlzLnVuaWZvcm1zLmlNb3VzZS52YWx1ZS55PXQvdGhpcy5zY2FsZSk7Y29uc3QgaT1lL3RoaXMud2lkdGgsbj10L3RoaXMuaGVpZ2h0O1wiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub25Nb3VzZU1vdmUmJnRoaXMub25Nb3VzZU1vdmUoaSxuKX1zZXRTaXplKCl7dGhpcy5zY2FsZXx8KHRoaXMuc2NhbGU9MSksaSgpJiZ0aGlzLm9wdGlvbnMuc2NhbGVNb2JpbGU/dGhpcy5zY2FsZT10aGlzLm9wdGlvbnMuc2NhbGVNb2JpbGU6dGhpcy5vcHRpb25zLnNjYWxlJiYodGhpcy5zY2FsZT10aGlzLm9wdGlvbnMuc2NhbGUpLHRoaXMud2lkdGg9TWF0aC5tYXgodGhpcy5lbC5vZmZzZXRXaWR0aCx0aGlzLm9wdGlvbnMubWluV2lkdGgpLHRoaXMuaGVpZ2h0PU1hdGgubWF4KHRoaXMuZWwub2Zmc2V0SGVpZ2h0LHRoaXMub3B0aW9ucy5taW5IZWlnaHQpfWluaXRNb3VzZSgpeyghdGhpcy5tb3VzZVgmJiF0aGlzLm1vdXNlWXx8dGhpcy5tb3VzZVg9PT10aGlzLm9wdGlvbnMubWluV2lkdGgvMiYmdGhpcy5tb3VzZVk9PT10aGlzLm9wdGlvbnMubWluSGVpZ2h0LzIpJiYodGhpcy5tb3VzZVg9dGhpcy53aWR0aC8yLHRoaXMubW91c2VZPXRoaXMuaGVpZ2h0LzIsdGhpcy50cmlnZ2VyTW91c2VNb3ZlKHRoaXMubW91c2VYLHRoaXMubW91c2VZKSl9cmVzaXplKCl7dGhpcy5zZXRTaXplKCksdGhpcy5jYW1lcmEmJih0aGlzLmNhbWVyYS5hc3BlY3Q9dGhpcy53aWR0aC90aGlzLmhlaWdodCxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4JiZ0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCkpLHRoaXMucmVuZGVyZXImJih0aGlzLnJlbmRlcmVyLnNldFNpemUodGhpcy53aWR0aCx0aGlzLmhlaWdodCksdGhpcy5yZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvL3RoaXMuc2NhbGUpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9uUmVzaXplJiZ0aGlzLm9uUmVzaXplKCl9aXNPblNjcmVlbigpe2NvbnN0IGU9dGhpcy5lbC5vZmZzZXRIZWlnaHQsdD10aGlzLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGk9d2luZG93LnBhZ2VZT2Zmc2V0fHwoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGV8fGRvY3VtZW50LmJvZHkpLnNjcm9sbFRvcCxuPXQudG9wK2k7cmV0dXJuIG4td2luZG93LmlubmVySGVpZ2h0PD1pJiZpPD1uK2V9YW5pbWF0aW9uTG9vcCgpe3RoaXMudHx8KHRoaXMudD0wKSx0aGlzLnQyfHwodGhpcy50Mj0wKTtjb25zdCBlPXBlcmZvcm1hbmNlLm5vdygpO2lmKHRoaXMucHJldk5vdyl7bGV0IHQ9KGUtdGhpcy5wcmV2Tm93KS8oMWUzLzYwKTt0PU1hdGgubWF4KC4yLE1hdGgubWluKHQsNSkpLHRoaXMudCs9dCx0aGlzLnQyKz0odGhpcy5vcHRpb25zLnNwZWVkfHwxKSp0LHRoaXMudW5pZm9ybXMmJih0aGlzLnVuaWZvcm1zLmlUaW1lLnZhbHVlPS4wMTY2NjcqdGhpcy50Mil9cmV0dXJuIHRoaXMucHJldk5vdz1lLHRoaXMub3B0aW9ucy5tb3VzZUVhc2UmJih0aGlzLm1vdXNlRWFzZVg9dGhpcy5tb3VzZUVhc2VYfHx0aGlzLm1vdXNlWHx8MCx0aGlzLm1vdXNlRWFzZVk9dGhpcy5tb3VzZUVhc2VZfHx0aGlzLm1vdXNlWXx8MCxNYXRoLmFicyh0aGlzLm1vdXNlRWFzZVgtdGhpcy5tb3VzZVgpK01hdGguYWJzKHRoaXMubW91c2VFYXNlWS10aGlzLm1vdXNlWSk+LjEmJih0aGlzLm1vdXNlRWFzZVgrPS4wNSoodGhpcy5tb3VzZVgtdGhpcy5tb3VzZUVhc2VYKSx0aGlzLm1vdXNlRWFzZVkrPS4wNSoodGhpcy5tb3VzZVktdGhpcy5tb3VzZUVhc2VZKSx0aGlzLnRyaWdnZXJNb3VzZU1vdmUodGhpcy5tb3VzZUVhc2VYLHRoaXMubW91c2VFYXNlWSkpKSwodGhpcy5pc09uU2NyZWVuKCl8fHRoaXMub3B0aW9ucy5mb3JjZUFuaW1hdGUpJiYoXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vblVwZGF0ZSYmdGhpcy5vblVwZGF0ZSgpLHRoaXMuc2NlbmUmJnRoaXMuY2FtZXJhJiYodGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSx0aGlzLmNhbWVyYSksdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IsdGhpcy5vcHRpb25zLmJhY2tncm91bmRBbHBoYSkpLHRoaXMuZnBzJiZ0aGlzLmZwcy51cGRhdGUmJnRoaXMuZnBzLnVwZGF0ZSgpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuYWZ0ZXJSZW5kZXImJnRoaXMuYWZ0ZXJSZW5kZXIoKSksdGhpcy5yZXE9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGlvbkxvb3ApfXJlc3RhcnQoKXtpZih0aGlzLnNjZW5lKWZvcig7dGhpcy5zY2VuZS5jaGlsZHJlbi5sZW5ndGg7KXRoaXMuc2NlbmUucmVtb3ZlKHRoaXMuc2NlbmUuY2hpbGRyZW5bMF0pO1wiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub25SZXN0YXJ0JiZ0aGlzLm9uUmVzdGFydCgpLHRoaXMuaW5pdCgpfWluaXQoKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9uSW5pdCYmdGhpcy5vbkluaXQoKX1kZXN0cm95KCl7XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vbkRlc3Ryb3kmJnRoaXMub25EZXN0cm95KCk7Y29uc3QgZT13aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcjtlKFwidG91Y2hzdGFydFwiLHRoaXMud2luZG93VG91Y2hXcmFwcGVyKSxlKFwidG91Y2htb3ZlXCIsdGhpcy53aW5kb3dUb3VjaFdyYXBwZXIpLGUoXCJzY3JvbGxcIix0aGlzLndpbmRvd01vdXNlTW92ZVdyYXBwZXIpLGUoXCJtb3VzZW1vdmVcIix0aGlzLndpbmRvd01vdXNlTW92ZVdyYXBwZXIpLGUoXCJkZXZpY2VvcmllbnRhdGlvblwiLHRoaXMud2luZG93R3lyb1dyYXBwZXIpLGUoXCJyZXNpemVcIix0aGlzLnJlc2l6ZSksd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMucmVxKTtjb25zdCB0PXRoaXMuc2NlbmU7dCYmdC5jaGlsZHJlbiYmbih0KSx0aGlzLnJlbmRlcmVyJiYodGhpcy5yZW5kZXJlci5kb21FbGVtZW50JiZ0aGlzLmVsLnJlbW92ZUNoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCksdGhpcy5yZW5kZXJlcj1udWxsLHRoaXMuc2NlbmU9bnVsbCksci5jdXJyZW50PT09dGhpcyYmKHIuY3VycmVudD1udWxsKX19O2NvbnN0IGw9ci5WYW50YUJhc2U7bGV0IGg9XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmd2luZG93LlRIUkVFLHtDYW1lcmE6YyxDbGFtcFRvRWRnZVdyYXBwaW5nOmQsRGF0YVRleHR1cmU6dSxGbG9hdFR5cGU6cCxNZXNoOm0sTmVhcmVzdEZpbHRlcjpmLFBsYW5lQnVmZmVyR2VvbWV0cnk6dixSR0JBRm9ybWF0OnksU2NlbmU6ZyxTaGFkZXJNYXRlcmlhbDp3LFdlYkdMUmVuZGVyVGFyZ2V0OmJ9PWh8fHt9O2NvbnN0IHg9ZnVuY3Rpb24oZSx0LGksbil7biYmKHtDYW1lcmE6YyxDbGFtcFRvRWRnZVdyYXBwaW5nOmQsRGF0YVRleHR1cmU6dSxGbG9hdFR5cGU6cCxNZXNoOm0sTmVhcmVzdEZpbHRlcjpmLFBsYW5lQnVmZmVyR2VvbWV0cnk6dixSR0JBRm9ybWF0OnksU2NlbmU6ZyxTaGFkZXJNYXRlcmlhbDp3LFdlYkdMUmVuZGVyVGFyZ2V0OmJ9PW4pLHRoaXMudmFyaWFibGVzPVtdLHRoaXMuY3VycmVudFRleHR1cmVJbmRleD0wO3ZhciBvPXAscz1uZXcgZyxyPW5ldyBjO3IucG9zaXRpb24uej0xO3ZhciBhPXtwYXNzVGhydVRleHR1cmU6e3ZhbHVlOm51bGx9fSxsPVQoXCJ1bmlmb3JtIHNhbXBsZXIyRCBwYXNzVGhydVRleHR1cmU7XFxuXFxudm9pZCBtYWluKCkge1xcblxcblxcdHZlYzIgdXYgPSBnbF9GcmFnQ29vcmQueHkgLyByZXNvbHV0aW9uLnh5O1xcblxcblxcdGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCggcGFzc1RocnVUZXh0dXJlLCB1diApO1xcblxcbn1cXG5cIixhKSxoPW5ldyBtKG5ldyB2KDIsMiksbCk7ZnVuY3Rpb24geChpKXtpLmRlZmluZXMucmVzb2x1dGlvbj1cInZlYzIoIFwiK2UudG9GaXhlZCgxKStcIiwgXCIrdC50b0ZpeGVkKDEpK1wiIClcIn1mdW5jdGlvbiBUKGUsdCl7dmFyIGk9bmV3IHcoe3VuaWZvcm1zOnQ9dHx8e30sdmVydGV4U2hhZGVyOlwidm9pZCBtYWluKClcXHR7XFxuXFxuXFx0Z2xfUG9zaXRpb24gPSB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XFxuXFxufVxcblwiLGZyYWdtZW50U2hhZGVyOmV9KTtyZXR1cm4geChpKSxpfXMuYWRkKGgpLHRoaXMuc2V0RGF0YVR5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG89ZSx0aGlzfSx0aGlzLmFkZFZhcmlhYmxlPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj17bmFtZTplLGluaXRpYWxWYWx1ZVRleHR1cmU6aSxtYXRlcmlhbDp0aGlzLmNyZWF0ZVNoYWRlck1hdGVyaWFsKHQpLGRlcGVuZGVuY2llczpudWxsLHJlbmRlclRhcmdldHM6W10sd3JhcFM6bnVsbCx3cmFwVDpudWxsLG1pbkZpbHRlcjpmLG1hZ0ZpbHRlcjpmfTtyZXR1cm4gdGhpcy52YXJpYWJsZXMucHVzaChuKSxufSx0aGlzLnNldFZhcmlhYmxlRGVwZW5kZW5jaWVzPWZ1bmN0aW9uKGUsdCl7ZS5kZXBlbmRlbmNpZXM9dH0sdGhpcy5pbml0PWZ1bmN0aW9uKCl7aWYoIWkuY2FwYWJpbGl0aWVzLmlzV2ViR0wyJiYhaS5leHRlbnNpb25zLmdldChcIk9FU190ZXh0dXJlX2Zsb2F0XCIpKXJldHVyblwiTm8gT0VTX3RleHR1cmVfZmxvYXQgc3VwcG9ydCBmb3IgZmxvYXQgdGV4dHVyZXMuXCI7aWYoMD09PWkuY2FwYWJpbGl0aWVzLm1heFZlcnRleFRleHR1cmVzKXJldHVyblwiTm8gc3VwcG9ydCBmb3IgdmVydGV4IHNoYWRlciB0ZXh0dXJlcy5cIjtmb3IodmFyIG49MDtuPHRoaXMudmFyaWFibGVzLmxlbmd0aDtuKyspe3ZhciBvPXRoaXMudmFyaWFibGVzW25dO28ucmVuZGVyVGFyZ2V0c1swXT10aGlzLmNyZWF0ZVJlbmRlclRhcmdldChlLHQsby53cmFwUyxvLndyYXBULG8ubWluRmlsdGVyLG8ubWFnRmlsdGVyKSxvLnJlbmRlclRhcmdldHNbMV09dGhpcy5jcmVhdGVSZW5kZXJUYXJnZXQoZSx0LG8ud3JhcFMsby53cmFwVCxvLm1pbkZpbHRlcixvLm1hZ0ZpbHRlciksdGhpcy5yZW5kZXJUZXh0dXJlKG8uaW5pdGlhbFZhbHVlVGV4dHVyZSxvLnJlbmRlclRhcmdldHNbMF0pLHRoaXMucmVuZGVyVGV4dHVyZShvLmluaXRpYWxWYWx1ZVRleHR1cmUsby5yZW5kZXJUYXJnZXRzWzFdKTt2YXIgcz1vLm1hdGVyaWFsLHI9cy51bmlmb3JtcztpZihudWxsIT09by5kZXBlbmRlbmNpZXMpZm9yKHZhciBhPTA7YTxvLmRlcGVuZGVuY2llcy5sZW5ndGg7YSsrKXt2YXIgbD1vLmRlcGVuZGVuY2llc1thXTtpZihsLm5hbWUhPT1vLm5hbWUpe2Zvcih2YXIgaD0hMSxjPTA7Yzx0aGlzLnZhcmlhYmxlcy5sZW5ndGg7YysrKWlmKGwubmFtZT09PXRoaXMudmFyaWFibGVzW2NdLm5hbWUpe2g9ITA7YnJlYWt9aWYoIWgpcmV0dXJuXCJWYXJpYWJsZSBkZXBlbmRlbmN5IG5vdCBmb3VuZC4gVmFyaWFibGU9XCIrby5uYW1lK1wiLCBkZXBlbmRlbmN5PVwiK2wubmFtZX1yW2wubmFtZV09e3ZhbHVlOm51bGx9LHMuZnJhZ21lbnRTaGFkZXI9XCJcXG51bmlmb3JtIHNhbXBsZXIyRCBcIitsLm5hbWUrXCI7XFxuXCIrcy5mcmFnbWVudFNoYWRlcn19cmV0dXJuIHRoaXMuY3VycmVudFRleHR1cmVJbmRleD0wLG51bGx9LHRoaXMuY29tcHV0ZT1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmN1cnJlbnRUZXh0dXJlSW5kZXgsdD0wPT09dGhpcy5jdXJyZW50VGV4dHVyZUluZGV4PzE6MCxpPTAsbj10aGlzLnZhcmlhYmxlcy5sZW5ndGg7aTxuO2krKyl7dmFyIG89dGhpcy52YXJpYWJsZXNbaV07aWYobnVsbCE9PW8uZGVwZW5kZW5jaWVzKWZvcih2YXIgcz1vLm1hdGVyaWFsLnVuaWZvcm1zLHI9MCxhPW8uZGVwZW5kZW5jaWVzLmxlbmd0aDtyPGE7cisrKXt2YXIgbD1vLmRlcGVuZGVuY2llc1tyXTtzW2wubmFtZV0udmFsdWU9bC5yZW5kZXJUYXJnZXRzW2VdLnRleHR1cmV9dGhpcy5kb1JlbmRlclRhcmdldChvLm1hdGVyaWFsLG8ucmVuZGVyVGFyZ2V0c1t0XSl9dGhpcy5jdXJyZW50VGV4dHVyZUluZGV4PXR9LHRoaXMuZ2V0Q3VycmVudFJlbmRlclRhcmdldD1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZW5kZXJUYXJnZXRzW3RoaXMuY3VycmVudFRleHR1cmVJbmRleF19LHRoaXMuZ2V0QWx0ZXJuYXRlUmVuZGVyVGFyZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlbmRlclRhcmdldHNbMD09PXRoaXMuY3VycmVudFRleHR1cmVJbmRleD8xOjBdfSx0aGlzLmFkZFJlc29sdXRpb25EZWZpbmU9eCx0aGlzLmNyZWF0ZVNoYWRlck1hdGVyaWFsPVQsdGhpcy5jcmVhdGVSZW5kZXJUYXJnZXQ9ZnVuY3Rpb24oaSxuLHMscixhLGwpe3JldHVybiBuZXcgYihpPWl8fGUsbj1ufHx0LHt3cmFwUzpzPXN8fGQsd3JhcFQ6cj1yfHxkLG1pbkZpbHRlcjphPWF8fGYsbWFnRmlsdGVyOmw9bHx8Zixmb3JtYXQ6eSx0eXBlOm8sc3RlbmNpbEJ1ZmZlcjohMSxkZXB0aEJ1ZmZlcjohMX0pfSx0aGlzLmNyZWF0ZVRleHR1cmU9ZnVuY3Rpb24oKXt2YXIgaT1uZXcgRmxvYXQzMkFycmF5KGUqdCo0KTtyZXR1cm4gbmV3IHUoaSxlLHQseSxwKX0sdGhpcy5yZW5kZXJUZXh0dXJlPWZ1bmN0aW9uKGUsdCl7YS5wYXNzVGhydVRleHR1cmUudmFsdWU9ZSx0aGlzLmRvUmVuZGVyVGFyZ2V0KGwsdCksYS5wYXNzVGhydVRleHR1cmUudmFsdWU9bnVsbH0sdGhpcy5kb1JlbmRlclRhcmdldD1mdW5jdGlvbihlLHQpe3ZhciBuPWkuZ2V0UmVuZGVyVGFyZ2V0KCk7aC5tYXRlcmlhbD1lLGkuc2V0UmVuZGVyVGFyZ2V0KHQpLGkucmVuZGVyKHMsciksaC5tYXRlcmlhbD1sLGkuc2V0UmVuZGVyVGFyZ2V0KG4pfX07bGV0IFQ9XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmd2luZG93LlRIUkVFO2NvbnN0IE09IWkoKTtsZXQgej0zMixTPXoqejtjb25zdCBDPTgwMCxWPShlPXt9KT0+e2NvbnN0IHQ9bmV3IFQuQnVmZmVyR2VvbWV0cnksaT1bXTtmdW5jdGlvbiBuKHQsbixvKXtjb25zdCBzPTEuNSooZS5iaXJkU2l6ZXx8MSk7aS5wdXNoKG5ldyBULlZlY3RvcjModCpzLG4qcyxvKnMpKX1uKDUsMCwwKSxuKC01LC0xLDEpLG4oLTUsMCwwKSxuKC01LC0yLC0xKSxuKDAsMiwtNiksbigwLDIsNiksbigyLDAsMCksbigtMywwLDApLHQuc2V0RnJvbVBvaW50cyhpKTtjb25zdCBvPVtdO3JldHVybiBvLnB1c2goMCwyLDEpLG8ucHVzaCg0LDcsNiksby5wdXNoKDUsNiw3KSx0LnNldEluZGV4KG8pLHR9O2NsYXNzIFJ7Y29uc3RydWN0b3IoZSl7dmFyIHQsaSxuPW5ldyBULlZlY3RvcjMsbz01MDAscz01MDAscj0yMDAsYT0uMSxsPWU7dGhpcy5wb3NpdGlvbj1uZXcgVC5WZWN0b3IzLHRoaXMudmVsb2NpdHk9bmV3IFQuVmVjdG9yMyx0PW5ldyBULlZlY3RvcjMsdGhpcy5zZXRHb2FsPWZ1bmN0aW9uKGUpe2k9ZX0sdGhpcy5zZXRXb3JsZFNpemU9ZnVuY3Rpb24oZSx0LGkpe289ZSxzPXQscj1pfSx0aGlzLnJ1bj1mdW5jdGlvbihlKXtuLnNldCgtbyx0aGlzLnBvc2l0aW9uLnksdGhpcy5wb3NpdGlvbi56KSwobj10aGlzLmF2b2lkKG4pKS5tdWx0aXBseVNjYWxhcig1KSx0LmFkZChuKSxuLnNldChvLHRoaXMucG9zaXRpb24ueSx0aGlzLnBvc2l0aW9uLnopLChuPXRoaXMuYXZvaWQobikpLm11bHRpcGx5U2NhbGFyKDUpLHQuYWRkKG4pLG4uc2V0KHRoaXMucG9zaXRpb24ueCwtcyx0aGlzLnBvc2l0aW9uLnopLChuPXRoaXMuYXZvaWQobikpLm11bHRpcGx5U2NhbGFyKDUpLHQuYWRkKG4pLG4uc2V0KHRoaXMucG9zaXRpb24ueCxzLHRoaXMucG9zaXRpb24ueiksKG49dGhpcy5hdm9pZChuKSkubXVsdGlwbHlTY2FsYXIoNSksdC5hZGQobiksbi5zZXQodGhpcy5wb3NpdGlvbi54LHRoaXMucG9zaXRpb24ueSwtciksKG49dGhpcy5hdm9pZChuKSkubXVsdGlwbHlTY2FsYXIoNSksdC5hZGQobiksbi5zZXQodGhpcy5wb3NpdGlvbi54LHRoaXMucG9zaXRpb24ueSxyKSwobj10aGlzLmF2b2lkKG4pKS5tdWx0aXBseVNjYWxhcig1KSx0LmFkZChuKSxNYXRoLnJhbmRvbSgpPi41JiZ0aGlzLmZsb2NrKGUpLHRoaXMubW92ZSgpfSx0aGlzLmZsb2NrPWZ1bmN0aW9uKGUpe2kmJnQuYWRkKHRoaXMucmVhY2goaSwuMDA1KSksdC5hZGQodGhpcy5hbGlnbm1lbnQoZSkpLHQuYWRkKHRoaXMuY29oZXNpb24oZSkpLHQuYWRkKHRoaXMuc2VwYXJhdGlvbihlKSl9LHRoaXMubW92ZT1mdW5jdGlvbigpe3RoaXMudmVsb2NpdHkuYWRkKHQpO3ZhciBlPXRoaXMudmVsb2NpdHkubGVuZ3RoKCk7ZT4yLjUmJnRoaXMudmVsb2NpdHkuZGl2aWRlU2NhbGFyKGUvMi41KSx0aGlzLnBvc2l0aW9uLmFkZCh0aGlzLnZlbG9jaXR5KSx0LnNldCgwLDAsMCl9LHRoaXMuY2hlY2tCb3VuZHM9ZnVuY3Rpb24oKXt0aGlzLnBvc2l0aW9uLng+byYmKHRoaXMucG9zaXRpb24ueD0tbyksdGhpcy5wb3NpdGlvbi54PC1vJiYodGhpcy5wb3NpdGlvbi54PW8pLHRoaXMucG9zaXRpb24ueT5zJiYodGhpcy5wb3NpdGlvbi55PS1zKSx0aGlzLnBvc2l0aW9uLnk8LXMmJih0aGlzLnBvc2l0aW9uLnk9cyksdGhpcy5wb3NpdGlvbi56PnImJih0aGlzLnBvc2l0aW9uLno9LXIpLHRoaXMucG9zaXRpb24uejwtciYmKHRoaXMucG9zaXRpb24uej1yKX0sdGhpcy5hdm9pZD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgVC5WZWN0b3IzO3JldHVybiB0LmNvcHkodGhpcy5wb3NpdGlvbiksdC5zdWIoZSksdC5tdWx0aXBseVNjYWxhcigxL3RoaXMucG9zaXRpb24uZGlzdGFuY2VUb1NxdWFyZWQoZSkpLHR9LHRoaXMucmVwdWxzZT1mdW5jdGlvbihlKXt2YXIgaT10aGlzLnBvc2l0aW9uLmRpc3RhbmNlVG8oZSk7aWYoaTwxNTApe3ZhciBuPW5ldyBULlZlY3RvcjM7bi5zdWJWZWN0b3JzKHRoaXMucG9zaXRpb24sZSksbi5tdWx0aXBseVNjYWxhciguNS9pKSx0LmFkZChuKX19LHRoaXMucmVhY2g9ZnVuY3Rpb24oZSx0KXt2YXIgaT1uZXcgVC5WZWN0b3IzO3JldHVybiBpLnN1YlZlY3RvcnMoZSx0aGlzLnBvc2l0aW9uKSxpLm11bHRpcGx5U2NhbGFyKHQpLGl9LHRoaXMuYWxpZ25tZW50PWZ1bmN0aW9uKGUpe3ZhciB0LGksbj1uZXcgVC5WZWN0b3IzLG89MDtjb25zdCBzPTEwMCpsLmFsaWdubWVudC8yMDtmb3IodmFyIHI9MCxoPWUubGVuZ3RoO3I8aDtyKyspTWF0aC5yYW5kb20oKT4uNnx8KGk9KHQ9ZVtyXSkucG9zaXRpb24uZGlzdGFuY2VUbyh0aGlzLnBvc2l0aW9uKSk+MCYmaTw9cyYmKG4uYWRkKHQudmVsb2NpdHkpLG8rKyk7aWYobz4wKXtuLmRpdmlkZVNjYWxhcihvKTt2YXIgYz1uLmxlbmd0aCgpO2M+YSYmbi5kaXZpZGVTY2FsYXIoYy9hKX1yZXR1cm4gbn0sdGhpcy5jb2hlc2lvbj1mdW5jdGlvbihlKXt2YXIgdCxpLG49bmV3IFQuVmVjdG9yMyxvPW5ldyBULlZlY3RvcjMscz0wO2NvbnN0IHI9MTAwKmwuY29oZXNpb24vMjA7Zm9yKHZhciBoPTAsYz1lLmxlbmd0aDtoPGM7aCsrKU1hdGgucmFuZG9tKCk+LjZ8fChpPSh0PWVbaF0pLnBvc2l0aW9uLmRpc3RhbmNlVG8odGhpcy5wb3NpdGlvbikpPjAmJmk8PXImJihuLmFkZCh0LnBvc2l0aW9uKSxzKyspO3M+MCYmbi5kaXZpZGVTY2FsYXIocyksby5zdWJWZWN0b3JzKG4sdGhpcy5wb3NpdGlvbik7dmFyIGQ9by5sZW5ndGgoKTtyZXR1cm4gZD5hJiZvLmRpdmlkZVNjYWxhcihkL2EpLG99LHRoaXMuc2VwYXJhdGlvbj1mdW5jdGlvbihlKXt2YXIgdCxpLG49bmV3IFQuVmVjdG9yMyxvPW5ldyBULlZlY3RvcjM7Y29uc3Qgcz0xMDAqbC5zZXBhcmF0aW9uLzIwO2Zvcih2YXIgcj0wLGE9ZS5sZW5ndGg7cjxhO3IrKylNYXRoLnJhbmRvbSgpPi42fHwoaT0odD1lW3JdKS5wb3NpdGlvbi5kaXN0YW5jZVRvKHRoaXMucG9zaXRpb24pKT4wJiZpPD1zJiYoby5zdWJWZWN0b3JzKHRoaXMucG9zaXRpb24sdC5wb3NpdGlvbiksby5ub3JtYWxpemUoKSxvLmRpdmlkZVNjYWxhcihpKSxuLmFkZChvKSk7cmV0dXJuIG59fX1jbGFzcyBFIGV4dGVuZHMgbHtzdGF0aWMgaW5pdENsYXNzKCl7dGhpcy5wcm90b3R5cGUuZGVmYXVsdE9wdGlvbnM9e2JhY2tncm91bmRDb2xvcjo0NjUxOTksY29sb3IxOjE2NzExNjgwLGNvbG9yMjo1Mzc1OSxjb2xvck1vZGU6XCJ2YXJpYW5jZUdyYWRpZW50XCIsYmlyZFNpemU6MSx3aW5nU3BhbjozMCxzcGVlZExpbWl0OjUsc2VwYXJhdGlvbjoyMCxhbGlnbm1lbnQ6MjAsY29oZXNpb246MjAscXVhbnRpdHk6NX19Y29uc3RydWN0b3IoZSl7VD1lLlRIUkVFfHxULHN1cGVyKGUpfWluaXRDb21wdXRlUmVuZGVyZXIoKXt0aGlzLmdwdUNvbXB1dGU9bmV3IHgoeix6LHRoaXMucmVuZGVyZXIsVCk7Y29uc3QgZT10aGlzLmdwdUNvbXB1dGUuY3JlYXRlVGV4dHVyZSgpLHQ9dGhpcy5ncHVDb21wdXRlLmNyZWF0ZVRleHR1cmUoKTshZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmltYWdlLmRhdGE7bGV0IGk9MDtjb25zdCBuPXQubGVuZ3RoOygoKT0+e2NvbnN0IGU9W107Zm9yKDtpPG47KXtjb25zdCBuPU1hdGgucmFuZG9tKCkqQy00MDAsbz1NYXRoLnJhbmRvbSgpKkMtNDAwLHM9TWF0aC5yYW5kb20oKSpDLTQwMDt0W2krMF09bix0W2krMV09byx0W2krMl09cyx0W2krM109MSxlLnB1c2goaSs9NCl9fSkoKX0oZSksZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmltYWdlLmRhdGE7bGV0IGk9MDtjb25zdCBuPXQubGVuZ3RoOygoKT0+e2NvbnN0IGU9W107Zm9yKDtpPG47KXtjb25zdCBuPU1hdGgucmFuZG9tKCktLjUsbz1NYXRoLnJhbmRvbSgpLS41LHM9TWF0aC5yYW5kb20oKS0uNTt0W2krMF09MTAqbix0W2krMV09MTAqbyx0W2krMl09MTAqcyx0W2krM109MSxlLnB1c2goaSs9NCl9fSkoKX0odCksdGhpcy52ZWxvY2l0eVZhcmlhYmxlPXRoaXMuZ3B1Q29tcHV0ZS5hZGRWYXJpYWJsZShcInRleHR1cmVWZWxvY2l0eVwiLFwidW5pZm9ybSBmbG9hdCB0aW1lO1xcbnVuaWZvcm0gZmxvYXQgdGVzdGluZztcXG51bmlmb3JtIGZsb2F0IGRlbHRhOyAvLyBhYm91dCAwLjAxNlxcbnVuaWZvcm0gZmxvYXQgc2VwYXJhdGlvbkRpc3RhbmNlOyAvLyAyMFxcbnVuaWZvcm0gZmxvYXQgYWxpZ25tZW50RGlzdGFuY2U7IC8vIDQwXFxudW5pZm9ybSBmbG9hdCBjb2hlc2lvbkRpc3RhbmNlO1xcbnVuaWZvcm0gZmxvYXQgc3BlZWRMaW1pdDtcXG51bmlmb3JtIGZsb2F0IGZyZWVkb21GYWN0b3I7XFxudW5pZm9ybSB2ZWMzIHByZWRhdG9yO1xcblxcbmNvbnN0IGZsb2F0IHdpZHRoID0gcmVzb2x1dGlvbi54O1xcbmNvbnN0IGZsb2F0IGhlaWdodCA9IHJlc29sdXRpb24ueTtcXG5cXG5jb25zdCBmbG9hdCBQSSA9IDMuMTQxNTkyNjUzNTg5NzkzO1xcbmNvbnN0IGZsb2F0IFBJXzIgPSBQSSAqIDIuMDtcXG4vLyBjb25zdCBmbG9hdCBWSVNJT04gPSBQSSAqIDAuNTU7XFxuXFxuZmxvYXQgem9uZVJhZGl1cyA9IDQwLjA7XFxuZmxvYXQgem9uZVJhZGl1c1NxdWFyZWQgPSAxNjAwLjA7XFxuXFxuZmxvYXQgc2VwYXJhdGlvblRocmVzaCA9IDAuNDU7XFxuZmxvYXQgYWxpZ25tZW50VGhyZXNoID0gMC42NTtcXG5cXG5jb25zdCBmbG9hdCBVUFBFUl9CT1VORFMgPSBCT1VORFM7XFxuY29uc3QgZmxvYXQgTE9XRVJfQk9VTkRTID0gLVVQUEVSX0JPVU5EUztcXG5cXG5mbG9hdCByYW5kKHZlYzIgY28pe1xcbiAgcmV0dXJuIGZyYWN0KHNpbihkb3QoY28ueHkgLHZlYzIoMTIuOTg5OCw3OC4yMzMpKSkgKiA0Mzc1OC41NDUzKTtcXG59XFxuXFxudm9pZCBtYWluKCkge1xcblxcbiAgem9uZVJhZGl1cyA9IHNlcGFyYXRpb25EaXN0YW5jZSArIGFsaWdubWVudERpc3RhbmNlICsgY29oZXNpb25EaXN0YW5jZTtcXG4gIHNlcGFyYXRpb25UaHJlc2ggPSBzZXBhcmF0aW9uRGlzdGFuY2UgLyB6b25lUmFkaXVzO1xcbiAgYWxpZ25tZW50VGhyZXNoID0gKCBzZXBhcmF0aW9uRGlzdGFuY2UgKyBhbGlnbm1lbnREaXN0YW5jZSApIC8gem9uZVJhZGl1cztcXG4gIHpvbmVSYWRpdXNTcXVhcmVkID0gem9uZVJhZGl1cyAqIHpvbmVSYWRpdXM7XFxuXFxuXFxuICB2ZWMyIHV2ID0gZ2xfRnJhZ0Nvb3JkLnh5IC8gcmVzb2x1dGlvbi54eTtcXG4gIHZlYzMgYmlyZFBvc2l0aW9uLCBiaXJkVmVsb2NpdHk7XFxuXFxuICB2ZWMzIHNlbGZQb3NpdGlvbiA9IHRleHR1cmUyRCggdGV4dHVyZVBvc2l0aW9uLCB1diApLnh5ejtcXG4gIHZlYzMgc2VsZlZlbG9jaXR5ID0gdGV4dHVyZTJEKCB0ZXh0dXJlVmVsb2NpdHksIHV2ICkueHl6O1xcblxcbiAgZmxvYXQgZGlzdDtcXG4gIHZlYzMgZGlyOyAvLyBkaXJlY3Rpb25cXG4gIGZsb2F0IGRpc3RTcXVhcmVkO1xcblxcbiAgZmxvYXQgc2VwYXJhdGlvblNxdWFyZWQgPSBzZXBhcmF0aW9uRGlzdGFuY2UgKiBzZXBhcmF0aW9uRGlzdGFuY2U7XFxuICBmbG9hdCBjb2hlc2lvblNxdWFyZWQgPSBjb2hlc2lvbkRpc3RhbmNlICogY29oZXNpb25EaXN0YW5jZTtcXG5cXG4gIGZsb2F0IGY7XFxuICBmbG9hdCBwZXJjZW50O1xcblxcbiAgdmVjMyB2ZWxvY2l0eSA9IHNlbGZWZWxvY2l0eTtcXG5cXG4gIGZsb2F0IGxpbWl0ID0gc3BlZWRMaW1pdDtcXG5cXG4gIGRpciA9IHByZWRhdG9yICogVVBQRVJfQk9VTkRTIC0gc2VsZlBvc2l0aW9uO1xcbiAgZGlyLnogPSAwLjtcXG4gIC8vIGRpci56ICo9IDAuNjtcXG4gIGRpc3QgPSBsZW5ndGgoIGRpciApO1xcbiAgZGlzdFNxdWFyZWQgPSBkaXN0ICogZGlzdDtcXG5cXG4gIGZsb2F0IHByZXlSYWRpdXMgPSAxNTAuMDtcXG4gIGZsb2F0IHByZXlSYWRpdXNTcSA9IHByZXlSYWRpdXMgKiBwcmV5UmFkaXVzO1xcblxcbiAgLy8gbW92ZSBiaXJkcyBhd2F5IGZyb20gcHJlZGF0b3JcXG4gIGlmIChkaXN0IDwgcHJleVJhZGl1cykge1xcblxcbiAgICBmID0gKCBkaXN0U3F1YXJlZCAvIHByZXlSYWRpdXNTcSAtIDEuMCApICogZGVsdGEgKiAxMDAuO1xcbiAgICB2ZWxvY2l0eSArPSBub3JtYWxpemUoIGRpciApICogZjtcXG4gICAgbGltaXQgKz0gNS4wO1xcbiAgfVxcblxcbiAgLy8gaWYgKHRlc3RpbmcgPT0gMC4wKSB7fVxcbiAgLy8gaWYgKCByYW5kKCB1diArIHRpbWUgKSA8IGZyZWVkb21GYWN0b3IgKSB7fVxcblxcbiAgLy8gQXR0cmFjdCBmbG9ja3MgdG8gdGhlIGNlbnRlclxcbiAgdmVjMyBjZW50cmFsID0gdmVjMyggMC4sIDAuLCAwLiApO1xcbiAgZGlyID0gc2VsZlBvc2l0aW9uIC0gY2VudHJhbDtcXG4gIGRpc3QgPSBsZW5ndGgoIGRpciApO1xcblxcbiAgZGlyLnkgKj0gMi41O1xcbiAgdmVsb2NpdHkgLT0gbm9ybWFsaXplKCBkaXIgKSAqIGRlbHRhICogNS47XFxuXFxuICBmb3IgKGZsb2F0IHk9MC4wO3k8aGVpZ2h0O3krKykge1xcbiAgICBmb3IgKGZsb2F0IHg9MC4wO3g8d2lkdGg7eCsrKSB7XFxuXFxuICAgICAgdmVjMiByZWYgPSB2ZWMyKCB4ICsgMC41LCB5ICsgMC41ICkgLyByZXNvbHV0aW9uLnh5O1xcbiAgICAgIGJpcmRQb3NpdGlvbiA9IHRleHR1cmUyRCggdGV4dHVyZVBvc2l0aW9uLCByZWYgKS54eXo7XFxuXFxuICAgICAgZGlyID0gYmlyZFBvc2l0aW9uIC0gc2VsZlBvc2l0aW9uO1xcbiAgICAgIGRpc3QgPSBsZW5ndGgoZGlyKTtcXG5cXG4gICAgICBpZiAoZGlzdCA8IDAuMDAwMSkgY29udGludWU7XFxuXFxuICAgICAgZGlzdFNxdWFyZWQgPSBkaXN0ICogZGlzdDtcXG5cXG4gICAgICBpZiAoZGlzdFNxdWFyZWQgPiB6b25lUmFkaXVzU3F1YXJlZCApIGNvbnRpbnVlO1xcblxcbiAgICAgIHBlcmNlbnQgPSBkaXN0U3F1YXJlZCAvIHpvbmVSYWRpdXNTcXVhcmVkO1xcblxcbiAgICAgIGlmICggcGVyY2VudCA8IHNlcGFyYXRpb25UaHJlc2ggKSB7IC8vIGxvd1xcblxcbiAgICAgICAgLy8gU2VwYXJhdGlvbiAtIE1vdmUgYXBhcnQgZm9yIGNvbWZvcnRcXG4gICAgICAgIGYgPSAoc2VwYXJhdGlvblRocmVzaCAvIHBlcmNlbnQgLSAxLjApICogZGVsdGE7XFxuICAgICAgICB2ZWxvY2l0eSAtPSBub3JtYWxpemUoZGlyKSAqIGY7XFxuXFxuICAgICAgfSBlbHNlIGlmICggcGVyY2VudCA8IGFsaWdubWVudFRocmVzaCApIHsgLy8gaGlnaFxcblxcbiAgICAgICAgLy8gQWxpZ25tZW50IC0gZmx5IHRoZSBzYW1lIGRpcmVjdGlvblxcbiAgICAgICAgZmxvYXQgdGhyZXNoRGVsdGEgPSBhbGlnbm1lbnRUaHJlc2ggLSBzZXBhcmF0aW9uVGhyZXNoO1xcbiAgICAgICAgZmxvYXQgYWRqdXN0ZWRQZXJjZW50ID0gKCBwZXJjZW50IC0gc2VwYXJhdGlvblRocmVzaCApIC8gdGhyZXNoRGVsdGE7XFxuXFxuICAgICAgICBiaXJkVmVsb2NpdHkgPSB0ZXh0dXJlMkQoIHRleHR1cmVWZWxvY2l0eSwgcmVmICkueHl6O1xcblxcbiAgICAgICAgZiA9ICggMC41IC0gY29zKCBhZGp1c3RlZFBlcmNlbnQgKiBQSV8yICkgKiAwLjUgKyAwLjUgKSAqIGRlbHRhO1xcbiAgICAgICAgdmVsb2NpdHkgKz0gbm9ybWFsaXplKGJpcmRWZWxvY2l0eSkgKiBmO1xcblxcbiAgICAgIH0gZWxzZSB7XFxuXFxuICAgICAgICAvLyBBdHRyYWN0aW9uIC8gQ29oZXNpb24gLSBtb3ZlIGNsb3NlclxcbiAgICAgICAgZmxvYXQgdGhyZXNoRGVsdGEgPSAxLjAgLSBhbGlnbm1lbnRUaHJlc2g7XFxuICAgICAgICBmbG9hdCBhZGp1c3RlZFBlcmNlbnQgPSAoIHBlcmNlbnQgLSBhbGlnbm1lbnRUaHJlc2ggKSAvIHRocmVzaERlbHRhO1xcblxcbiAgICAgICAgZiA9ICggMC41IC0gKCBjb3MoIGFkanVzdGVkUGVyY2VudCAqIFBJXzIgKSAqIC0wLjUgKyAwLjUgKSApICogZGVsdGE7XFxuXFxuICAgICAgICB2ZWxvY2l0eSArPSBub3JtYWxpemUoZGlyKSAqIGY7XFxuXFxuICAgICAgfVxcbiAgICB9XFxuICB9XFxuXFxuICAvLyB0aGlzIG1ha2UgdGVuZHMgdG8gZmx5IGFyb3VuZCB0aGFuIGRvd24gb3IgdXBcXG4gIC8vIGlmICh2ZWxvY2l0eS55ID4gMC4pIHZlbG9jaXR5LnkgKj0gKDEuIC0gMC4yICogZGVsdGEpO1xcblxcbiAgLy8gU3BlZWQgTGltaXRzXFxuICBpZiAoIGxlbmd0aCggdmVsb2NpdHkgKSA+IGxpbWl0ICkge1xcbiAgICB2ZWxvY2l0eSA9IG5vcm1hbGl6ZSggdmVsb2NpdHkgKSAqIGxpbWl0O1xcbiAgfVxcblxcbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNCggdmVsb2NpdHksIDEuMCApO1xcblxcbn1cIix0KSx0aGlzLnBvc2l0aW9uVmFyaWFibGU9dGhpcy5ncHVDb21wdXRlLmFkZFZhcmlhYmxlKFwidGV4dHVyZVBvc2l0aW9uXCIsXCJ1bmlmb3JtIGZsb2F0IHRpbWU7XFxudW5pZm9ybSBmbG9hdCBkZWx0YTtcXG5cXG52b2lkIG1haW4oKSB7XFxuXFxuICB2ZWMyIHV2ID0gZ2xfRnJhZ0Nvb3JkLnh5IC8gcmVzb2x1dGlvbi54eTtcXG4gIHZlYzQgdG1wUG9zID0gdGV4dHVyZTJEKCB0ZXh0dXJlUG9zaXRpb24sIHV2ICk7XFxuICB2ZWMzIHBvc2l0aW9uID0gdG1wUG9zLnh5ejtcXG4gIHZlYzMgdmVsb2NpdHkgPSB0ZXh0dXJlMkQoIHRleHR1cmVWZWxvY2l0eSwgdXYgKS54eXo7XFxuXFxuICBmbG9hdCBwaGFzZSA9IHRtcFBvcy53O1xcblxcbiAgcGhhc2UgPSBtb2QoICggcGhhc2UgKyBkZWx0YSArXFxuICAgIGxlbmd0aCggdmVsb2NpdHkueHogKSAqIGRlbHRhICogMy4gK1xcbiAgICBtYXgoIHZlbG9jaXR5LnksIDAuMCApICogZGVsdGEgKiA2LiApLCA2Mi44MyApO1xcblxcbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNCggcG9zaXRpb24gKyB2ZWxvY2l0eSAqIGRlbHRhICogMTUuICwgcGhhc2UgKTtcXG5cXG59XCIsZSksdGhpcy5ncHVDb21wdXRlLnNldFZhcmlhYmxlRGVwZW5kZW5jaWVzKHRoaXMudmVsb2NpdHlWYXJpYWJsZSxbdGhpcy5wb3NpdGlvblZhcmlhYmxlLHRoaXMudmVsb2NpdHlWYXJpYWJsZV0pLHRoaXMuZ3B1Q29tcHV0ZS5zZXRWYXJpYWJsZURlcGVuZGVuY2llcyh0aGlzLnBvc2l0aW9uVmFyaWFibGUsW3RoaXMucG9zaXRpb25WYXJpYWJsZSx0aGlzLnZlbG9jaXR5VmFyaWFibGVdKSx0aGlzLnBvc2l0aW9uVW5pZm9ybXM9dGhpcy5wb3NpdGlvblZhcmlhYmxlLm1hdGVyaWFsLnVuaWZvcm1zLHRoaXMudmVsb2NpdHlVbmlmb3Jtcz10aGlzLnZlbG9jaXR5VmFyaWFibGUubWF0ZXJpYWwudW5pZm9ybXMsdGhpcy5wb3NpdGlvblVuaWZvcm1zLnRpbWU9e3ZhbHVlOjB9LHRoaXMucG9zaXRpb25Vbmlmb3Jtcy5kZWx0YT17dmFsdWU6MH0sdGhpcy52ZWxvY2l0eVVuaWZvcm1zLnRpbWU9e3ZhbHVlOjF9LHRoaXMudmVsb2NpdHlVbmlmb3Jtcy5kZWx0YT17dmFsdWU6MH0sdGhpcy52ZWxvY2l0eVVuaWZvcm1zLnRlc3Rpbmc9e3ZhbHVlOjF9LHRoaXMudmVsb2NpdHlVbmlmb3Jtcy5zZXBhcmF0aW9uRGlzdGFuY2U9e3ZhbHVlOjF9LHRoaXMudmVsb2NpdHlVbmlmb3Jtcy5hbGlnbm1lbnREaXN0YW5jZT17dmFsdWU6MX0sdGhpcy52ZWxvY2l0eVVuaWZvcm1zLmNvaGVzaW9uRGlzdGFuY2U9e3ZhbHVlOjF9LHRoaXMudmVsb2NpdHlVbmlmb3Jtcy5zcGVlZExpbWl0PXt2YWx1ZToxfSx0aGlzLnZlbG9jaXR5VW5pZm9ybXMuZnJlZWRvbUZhY3Rvcj17dmFsdWU6MX0sdGhpcy52ZWxvY2l0eVVuaWZvcm1zLnByZWRhdG9yPXt2YWx1ZTpuZXcgVC5WZWN0b3IzfSx0aGlzLnZlbG9jaXR5VmFyaWFibGUubWF0ZXJpYWwuZGVmaW5lcy5CT1VORFM9Qy50b0ZpeGVkKDIpLHRoaXMudmVsb2NpdHlWYXJpYWJsZS53cmFwUz1ULlJlcGVhdFdyYXBwaW5nLHRoaXMudmVsb2NpdHlWYXJpYWJsZS53cmFwVD1ULlJlcGVhdFdyYXBwaW5nLHRoaXMucG9zaXRpb25WYXJpYWJsZS53cmFwUz1ULlJlcGVhdFdyYXBwaW5nLHRoaXMucG9zaXRpb25WYXJpYWJsZS53cmFwVD1ULlJlcGVhdFdyYXBwaW5nO2NvbnN0IGk9dGhpcy5ncHVDb21wdXRlLmluaXQoKTtudWxsIT09aSYmY29uc29sZS5lcnJvcihpKX1pbml0R3BncHVCaXJkcygpe2NvbnN0IGU9KGU9Pntjb25zdCB0PW5ldyBULkJ1ZmZlckdlb21ldHJ5O2UucXVhbnRpdHkmJih6PU1hdGgucG93KDIsZS5xdWFudGl0eSksUz16KnopO2NvbnN0IGk9MypTLG49MyppLG89bmV3IFQuQnVmZmVyQXR0cmlidXRlKG5ldyBGbG9hdDMyQXJyYXkoMypuKSwzKSxzPW5ldyBULkJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KDMqbiksMykscj1uZXcgVC5CdWZmZXJBdHRyaWJ1dGUobmV3IEZsb2F0MzJBcnJheSgyKm4pLDIpLGE9bmV3IFQuQnVmZmVyQXR0cmlidXRlKG5ldyBGbG9hdDMyQXJyYXkobiksMSk7dC5zZXRBdHRyaWJ1dGV8fCh0LnNldEF0dHJpYnV0ZT10LmFkZEF0dHJpYnV0ZSksdC5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG8pLHQuc2V0QXR0cmlidXRlKFwiYmlyZENvbG9yXCIscyksdC5zZXRBdHRyaWJ1dGUoXCJyZWZlcmVuY2VcIixyKSx0LnNldEF0dHJpYnV0ZShcImJpcmRWZXJ0ZXhcIixhKTtsZXQgbD0wO2NvbnN0IGg9ZnVuY3Rpb24oKXtmb3IobGV0IGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKW8uYXJyYXlbbCsrXT1hcmd1bWVudHNbZV19LGM9ZS53aW5nU3Bhbnx8MjAsZD1lLmJpcmRTaXplfHwxO2ZvcihsZXQgZT0wO2U8UztlKyspaCgwLC0wLC0yMCpkLDAsNCpkLC0yMCpkLDAsMCwzMCpkKSxoKDAsMCwtMTUqZCwtYypkLDAsMCwwLDAsMTUqZCksaCgwLDAsMTUqZCxjKmQsMCwwLDAsMCwtMTUqZCk7Y29uc3QgdT17fTtmb3IobD0wO2w8MyppO2wrKyl7Y29uc3QgdD1+fihsLzMpLGk9dCV6L3osbj1+fih0L3opL3osbz1+fihsLzkpL1MsaD1vLnRvU3RyaW5nKCksYz0tMSE9ZS5jb2xvck1vZGUuaW5kZXhPZihcIkdyYWRpZW50XCIpO2xldCBkO2Q9IWMmJnVbaF0/dVtoXTplLmVmZmVjdC5nZXROZXdDb2wobyksY3x8dVtoXXx8KHVbaF09ZCkscy5hcnJheVszKmwrMF09ZC5yLHMuYXJyYXlbMypsKzFdPWQuZyxzLmFycmF5WzMqbCsyXT1kLmIsci5hcnJheVsyKmxdPWksci5hcnJheVsyKmwrMV09bixhLmFycmF5W2xdPWwlOX1yZXR1cm4gdC5zY2FsZSguMiwuMiwuMil9KShPYmplY3QuYXNzaWduKHt9LHRoaXMub3B0aW9ucyx7ZWZmZWN0OnRoaXN9KSk7dGhpcy5iaXJkVW5pZm9ybXM9e2NvbG9yOnt2YWx1ZTpuZXcgVC5Db2xvcigxNjcyMDM4NCl9LHRleHR1cmVQb3NpdGlvbjp7dmFsdWU6bnVsbH0sdGV4dHVyZVZlbG9jaXR5Ont2YWx1ZTpudWxsfSx0aW1lOnt2YWx1ZToxfSxkZWx0YTp7dmFsdWU6MH0sYmlyZFNpemU6e3ZhbHVlOnRoaXMub3B0aW9ucy5iaXJkU2l6ZX19O2NvbnN0IHQ9bmV3IFQuU2hhZGVyTWF0ZXJpYWwoe3VuaWZvcm1zOnRoaXMuYmlyZFVuaWZvcm1zLHZlcnRleFNoYWRlcjpcImF0dHJpYnV0ZSB2ZWMyIHJlZmVyZW5jZTtcXG5hdHRyaWJ1dGUgZmxvYXQgYmlyZFZlcnRleDtcXG5cXG5hdHRyaWJ1dGUgdmVjMyBiaXJkQ29sb3I7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZVBvc2l0aW9uO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmVWZWxvY2l0eTtcXG5cXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcbnZhcnlpbmcgZmxvYXQgejtcXG5cXG51bmlmb3JtIGZsb2F0IHRpbWU7XFxudW5pZm9ybSBmbG9hdCBiaXJkU2l6ZTtcXG5cXG52b2lkIG1haW4oKSB7XFxuXFxuICB2ZWM0IHRtcFBvcyA9IHRleHR1cmUyRCggdGV4dHVyZVBvc2l0aW9uLCByZWZlcmVuY2UgKTtcXG4gIHZlYzMgcG9zID0gdG1wUG9zLnh5ejtcXG4gIHZlYzMgdmVsb2NpdHkgPSBub3JtYWxpemUodGV4dHVyZTJEKCB0ZXh0dXJlVmVsb2NpdHksIHJlZmVyZW5jZSApLnh5eik7XFxuXFxuICB2ZWMzIG5ld1Bvc2l0aW9uID0gcG9zaXRpb247XFxuXFxuICBpZiAoIGJpcmRWZXJ0ZXggPT0gNC4wIHx8IGJpcmRWZXJ0ZXggPT0gNy4wICkge1xcbiAgICAvLyBmbGFwIHdpbmdzXFxuICAgIG5ld1Bvc2l0aW9uLnkgPSBzaW4oIHRtcFBvcy53ICkgKiA1LiAqIGJpcmRTaXplO1xcbiAgfVxcblxcbiAgbmV3UG9zaXRpb24gPSBtYXQzKCBtb2RlbE1hdHJpeCApICogbmV3UG9zaXRpb247XFxuXFxuICB2ZWxvY2l0eS56ICo9IC0xLjtcXG4gIGZsb2F0IHh6ID0gbGVuZ3RoKCB2ZWxvY2l0eS54eiApO1xcbiAgZmxvYXQgeHl6ID0gMS47XFxuICBmbG9hdCB4ID0gc3FydCggMS4gLSB2ZWxvY2l0eS55ICogdmVsb2NpdHkueSApO1xcblxcbiAgZmxvYXQgY29zcnkgPSB2ZWxvY2l0eS54IC8geHo7XFxuICBmbG9hdCBzaW5yeSA9IHZlbG9jaXR5LnogLyB4ejtcXG5cXG4gIGZsb2F0IGNvc3J6ID0geCAvIHh5ejtcXG4gIGZsb2F0IHNpbnJ6ID0gdmVsb2NpdHkueSAvIHh5ejtcXG5cXG4gIG1hdDMgbWF0eSA9ICBtYXQzKFxcbiAgICBjb3NyeSwgMCwgLXNpbnJ5LFxcbiAgICAwICAgICwgMSwgMCAgICAgLFxcbiAgICBzaW5yeSwgMCwgY29zcnlcXG4gICk7XFxuXFxuICBtYXQzIG1hdHogPSAgbWF0MyhcXG4gICAgY29zcnogLCBzaW5yeiwgMCxcXG4gICAgLXNpbnJ6LCBjb3NyeiwgMCxcXG4gICAgMCAgICAgLCAwICAgICwgMVxcbiAgKTtcXG4gIG5ld1Bvc2l0aW9uID0gIG1hdHkgKiBtYXR6ICogbmV3UG9zaXRpb247XFxuICBuZXdQb3NpdGlvbiArPSBwb3M7XFxuICB6ID0gbmV3UG9zaXRpb24uejtcXG5cXG4gIHZDb2xvciA9IHZlYzQoIGJpcmRDb2xvciwgMS4wICk7XFxuICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiAgdmlld01hdHJpeCAgKiB2ZWM0KCBuZXdQb3NpdGlvbiwgMS4wICk7XFxufVwiLGZyYWdtZW50U2hhZGVyOlwidmFyeWluZyB2ZWM0IHZDb2xvcjtcXG52YXJ5aW5nIGZsb2F0IHo7XFxudW5pZm9ybSB2ZWMzIGNvbG9yO1xcbnZvaWQgbWFpbigpIHtcXG4gIC8vIEZha2UgY29sb3JzIGZvciBub3dcXG4gIGZsb2F0IHJyID0gMC4yICsgKCAxMDAwLiAtIHogKSAvIDEwMDAuICogdkNvbG9yLng7XFxuICBmbG9hdCBnZyA9IDAuMiArICggMTAwMC4gLSB6ICkgLyAxMDAwLiAqIHZDb2xvci55O1xcbiAgZmxvYXQgYmIgPSAwLjIgKyAoIDEwMDAuIC0geiApIC8gMTAwMC4gKiB2Q29sb3IuejtcXG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQoIHJyLCBnZywgYmIsIDEuICk7XFxufVwiLHNpZGU6VC5Eb3VibGVTaWRlfSksaT1uZXcgVC5NZXNoKGUsdCk7cmV0dXJuIGkucm90YXRpb24ueT1NYXRoLlBJLzIsaS5tYXRyaXhBdXRvVXBkYXRlPSExLGkudXBkYXRlTWF0cml4KCksdGhpcy5zY2VuZS5hZGQoaSl9Z2V0TmV3Q29sKGUpe2NvbnN0IHQ9dGhpcy5vcHRpb25zLGk9bnVsbCE9dC5jb2xvcjE/dC5jb2xvcjE6NDQ1NjQ0OCxuPW51bGwhPXQuY29sb3IyP3QuY29sb3IyOjY2ODQ2NzIsbz1uZXcgVC5Db2xvcihpKSxzPW5ldyBULkNvbG9yKG4pO2xldCByLGE7aWYoYT0tMSE9dC5jb2xvck1vZGUuaW5kZXhPZihcIkdyYWRpZW50XCIpP01hdGgucmFuZG9tKCk6ZSwwPT10LmNvbG9yTW9kZS5pbmRleE9mKFwidmFyaWFuY2VcIikpe2NvbnN0IGU9KG8ucitNYXRoLnJhbmRvbSgpKnMucikuY2xhbXAoMCwxKSx0PShvLmcrTWF0aC5yYW5kb20oKSpzLmcpLmNsYW1wKDAsMSksaT0oby5iK01hdGgucmFuZG9tKCkqcy5iKS5jbGFtcCgwLDEpO3I9bmV3IFQuQ29sb3IoZSx0LGkpfWVsc2Ugcj0wPT10LmNvbG9yTW9kZS5pbmRleE9mKFwibWl4XCIpP25ldyBULkNvbG9yKGkrYSpuKTpvLmxlcnAocyxhKTtyZXR1cm4gcn1vbkluaXQoKXt0aGlzLmNhbWVyYT1uZXcgVC5QZXJzcGVjdGl2ZUNhbWVyYSg3NSx0aGlzLndpZHRoL3RoaXMuaGVpZ2h0LDEsM2UzKSx0aGlzLmNhbWVyYS5wb3NpdGlvbi56PTM1MCx0aGlzLmZvZz1uZXcgVC5Gb2coMTY3NzcyMTUsMTAwLDFlMyksdGhpcy5tb3VzZVg9dGhpcy5tb3VzZVk9MDtjb25zdCBlPXRoaXMuYmlyZHM9W10sdD10aGlzLmJvaWRzPVtdLGk9dGhpcy5vcHRpb25zO2xldCBuLG87aWYoTSl0cnl7dGhpcy5pbml0Q29tcHV0ZVJlbmRlcmVyKCksdGhpcy52YWx1ZXNDaGFuZ2VyPXRoaXMudmFsdWVzQ2hhbmdlci5iaW5kKHRoaXMpLHRoaXMudmFsdWVzQ2hhbmdlcigpLHRoaXMuaW5pdEdwZ3B1QmlyZHMoKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKFwiW3ZhbnRhLmpzXSBiaXJkcyBpbml0IGVycm9yOiBcIixlKX1lbHNle2NvbnN0IGw9NipNYXRoLnBvdygyLGkucXVhbnRpdHkpO2Zvcih2YXIgcz0wO3M8bDtzKyspe249dFtzXT1uZXcgUihpKSxuLnBvc2l0aW9uLng9NDAwKk1hdGgucmFuZG9tKCktMjAwLG4ucG9zaXRpb24ueT00MDAqTWF0aC5yYW5kb20oKS0yMDAsbi5wb3NpdGlvbi56PTQwMCpNYXRoLnJhbmRvbSgpLTIwMCxuLnZlbG9jaXR5Lng9MipNYXRoLnJhbmRvbSgpLTEsbi52ZWxvY2l0eS55PTIqTWF0aC5yYW5kb20oKS0xLG4udmVsb2NpdHkuej0yKk1hdGgucmFuZG9tKCktMSxuLnNldFdvcmxkU2l6ZSg1MDAsNTAwLDMwMCk7Y29uc3QgaD0tMSE9aS5jb2xvck1vZGUuaW5kZXhPZihcIkdyYWRpZW50XCIpLGM9VihpKSxkPWMuYXR0cmlidXRlcy5wb3NpdGlvbi5sZW5ndGgsdT1uZXcgVC5CdWZmZXJBdHRyaWJ1dGUobmV3IEZsb2F0MzJBcnJheShkKSwzKTtpZihoKWZvcih2YXIgcj0wO3I8Yy5pbmRleC5hcnJheS5sZW5ndGg7cis9Mylmb3IodmFyIGE9MDthPD0yO2ErKyl7Y29uc3QgZT1jLmluZGV4LmFycmF5W3IrYV0sdD10aGlzLmdldE5ld0NvbCgpO3UuYXJyYXlbMyplXT10LnIsdS5hcnJheVszKmUrMV09dC5nLHUuYXJyYXlbMyplKzJdPXQuYn1lbHNle2NvbnN0IGU9dGhpcy5nZXROZXdDb2wocy9sKTtmb3Iocj0wO3I8dS5hcnJheS5sZW5ndGg7cis9Myl1LmFycmF5W3JdPWUucix1LmFycmF5W3IrMV09ZS5nLHUuYXJyYXlbcisyXT1lLmJ9Yy5zZXRBdHRyaWJ1dGUoXCJjb2xvclwiLHUpLG89ZVtzXT1uZXcgVC5NZXNoKGMsbmV3IFQuTWVzaEJhc2ljTWF0ZXJpYWwoe2NvbG9yOjE2Nzc3MjE1LHNpZGU6VC5Eb3VibGVTaWRlLHZlcnRleENvbG9yczpULlZlcnRleENvbG9yc30pKSxvLnBoYXNlPU1hdGguZmxvb3IoNjIuODMqTWF0aC5yYW5kb20oKSksby5wb3NpdGlvbi54PXRbc10ucG9zaXRpb24ueCxvLnBvc2l0aW9uLnk9dFtzXS5wb3NpdGlvbi55LG8ucG9zaXRpb24uej10W3NdLnBvc2l0aW9uLnosdGhpcy5zY2VuZS5hZGQobyl9fX12YWx1ZXNDaGFuZ2VyKCl7dGhpcy52ZWxvY2l0eVVuaWZvcm1zJiYodGhpcy52ZWxvY2l0eVVuaWZvcm1zLnNlcGFyYXRpb25EaXN0YW5jZS52YWx1ZT10aGlzLm9wdGlvbnMuc2VwYXJhdGlvbix0aGlzLnZlbG9jaXR5VW5pZm9ybXMuYWxpZ25tZW50RGlzdGFuY2UudmFsdWU9dGhpcy5vcHRpb25zLmFsaWdubWVudCx0aGlzLnZlbG9jaXR5VW5pZm9ybXMuc3BlZWRMaW1pdC52YWx1ZT10aGlzLm9wdGlvbnMuc3BlZWRMaW1pdCx0aGlzLnZlbG9jaXR5VW5pZm9ybXMuY29oZXNpb25EaXN0YW5jZS52YWx1ZT10aGlzLm9wdGlvbnMuY29oZXNpb24pfW9uVXBkYXRlKCl7dGhpcy5ub3c9cGVyZm9ybWFuY2Uubm93KCksdGhpcy5sYXN0fHwodGhpcy5sYXN0PXRoaXMubm93KTtsZXQgZT0odGhpcy5ub3ctdGhpcy5sYXN0KS8xZTM7aWYoZT4xJiYoZT0xKSx0aGlzLmxhc3Q9dGhpcy5ub3csTSl0aGlzLnBvc2l0aW9uVW5pZm9ybXMudGltZS52YWx1ZT10aGlzLm5vdyx0aGlzLnBvc2l0aW9uVW5pZm9ybXMuZGVsdGEudmFsdWU9ZSx0aGlzLnZlbG9jaXR5VW5pZm9ybXMudGltZS52YWx1ZT10aGlzLm5vdyx0aGlzLnZlbG9jaXR5VW5pZm9ybXMuZGVsdGEudmFsdWU9ZSx0aGlzLmJpcmRVbmlmb3Jtcy50aW1lLnZhbHVlPXRoaXMubm93LHRoaXMuYmlyZFVuaWZvcm1zLmRlbHRhLnZhbHVlPWUsdGhpcy52ZWxvY2l0eVVuaWZvcm1zLnByZWRhdG9yLnZhbHVlLnNldCh0aGlzLm1vdXNlWCwtdGhpcy5tb3VzZVksMCksdGhpcy5tb3VzZVg9MWU0LHRoaXMubW91c2VZPTFlNCx0aGlzLmdwdUNvbXB1dGUuY29tcHV0ZSgpLHRoaXMuYmlyZFVuaWZvcm1zLnRleHR1cmVQb3NpdGlvbi52YWx1ZT10aGlzLmdwdUNvbXB1dGUuZ2V0Q3VycmVudFJlbmRlclRhcmdldCh0aGlzLnBvc2l0aW9uVmFyaWFibGUpLnRleHR1cmUsdGhpcy5iaXJkVW5pZm9ybXMudGV4dHVyZVZlbG9jaXR5LnZhbHVlPXRoaXMuZ3B1Q29tcHV0ZS5nZXRDdXJyZW50UmVuZGVyVGFyZ2V0KHRoaXMudmVsb2NpdHlWYXJpYWJsZSkudGV4dHVyZTtlbHNle2NvbnN0IGU9dGhpcy5iaXJkcyxuPXRoaXMuYm9pZHM7bGV0IG8scztmb3IodmFyIHQ9MCxpPWUubGVuZ3RoO3Q8aTt0Kyspe289blt0XSxvLnJ1bihuKSxzPWVbdF0scy5yb3RhdGlvbi55PU1hdGguYXRhbjIoLW8udmVsb2NpdHkueixvLnZlbG9jaXR5LngpLHMucm90YXRpb24uej1NYXRoLmFzaW4oby52ZWxvY2l0eS55L28udmVsb2NpdHkubGVuZ3RoKCkpLHMucGhhc2U9KHMucGhhc2UrKE1hdGgubWF4KDAscy5yb3RhdGlvbi56KSsuMSkpJTYyLjgzO2NvbnN0IGk9MTYscj0xMztzLmdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24uYXJyYXlbaV09cy5nZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uLmFycmF5W3JdPTUqTWF0aC5zaW4ocy5waGFzZSkqdGhpcy5vcHRpb25zLmJpcmRTaXplLHMuZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbi5uZWVkc1VwZGF0ZT0hMCxzLmdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCkscy5wb3NpdGlvbi54PW5bdF0ucG9zaXRpb24ueCxzLnBvc2l0aW9uLnk9blt0XS5wb3NpdGlvbi55LHMucG9zaXRpb24uej1uW3RdLnBvc2l0aW9uLnp9fX1vbk1vdXNlTW92ZShlLHQpe2lmKHRoaXMubW91c2VYPWUtLjUsdGhpcy5tb3VzZVk9dC0uNSwhTSl7Y29uc3QgZT10aGlzLmJvaWRzO2xldCB0O2Zvcih2YXIgaT1uZXcgVC5WZWN0b3IzKHRoaXMubW91c2VYKnRoaXMud2lkdGgsLXRoaXMubW91c2VZKnRoaXMuaGVpZ2h0LDApLG49MCxvPWUubGVuZ3RoO248bztuKyspdD1lW25dLGkuej10LnBvc2l0aW9uLnosdC5yZXB1bHNlKGkpfX1vbkRlc3Ryb3koKXt9b25SZXNpemUoKXt9fUUuaW5pdENsYXNzKCk7Y29uc3QgUD1yLnJlZ2lzdGVyKFwiQklSRFNcIixFKTtyZXR1cm4gdH0pKCkpKTsiLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgSGVhZCBmcm9tIFwibmV4dC9oZWFkXCI7XG5pbXBvcnQgc3R5bGVzIGZyb20gXCIuLi9zdHlsZXMvSG9tZS5tb2R1bGUuY3NzXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBIQUxPIGZyb20gXCJ2YW50YS9kaXN0L3ZhbnRhLmJpcmRzLm1pblwiO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCI7XG5pbXBvcnQgeyBDb250YWluZXIsIFJvdywgQ29sIH0gZnJvbSBcInJlYWN0c3RyYXBcIjtcbi8vIGltcG9ydCB7IExpbmsgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuLy8gaW1wb3J0IFwiLi4vc3R5bGVzL2hlcm8tc2VjdGlvbi5jc3NcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSG9tZSgpIHtcblxuXG4gIGNvbnN0IFt2YW50YUVmZmVjdCwgc2V0VmFudGFFZmZlY3RdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IHZhbnRhUmVmID0gdXNlUmVmKG51bGwpO1xuXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXZhbnRhRWZmZWN0KSB7XG4gICAgICBzZXRWYW50YUVmZmVjdChcbiAgICAgICAgSEFMTyh7XG4gICAgICAgICAgZWw6IHZhbnRhUmVmLmN1cnJlbnQsXG4gICAgICAgICAgVEhSRUUsXG4gICAgICAgICAgLy8gY29sb3I6IDB4MTRiNjc5LFxuICAgICAgICAgIC8vIGJhY2tncm91bmRDb2xvcjogMHgxNTE3M2MsXG4gICAgICAgICAgLy8gbWF4RGlzdGFuY2U6IDM0LjAsXG4gICAgICAgICAgLy8gaGlnaGxpZ2h0Q29sb3I6IDB4ZWQwMDRkLFxuICAgICAgICAgIC8vIG1pZHRvbmVDb2xvcjogMHgyMGI0YzIsXG4gICAgICAgICAgLy8gbG93bGlnaHRDb2xvcjogMHhmZmZmZmYsXG4gICAgICAgICAgLy8gYmFzZUNvbG9yOiAweGZmZmZmZlxuXG4gICAgICAgICAgLy8gbW91c2VDb250cm9sczogdHJ1ZSxcbiAgICAgICAgICAvLyB0b3VjaENvbnRyb2xzOiB0cnVlLFxuICAgICAgICAgIC8vIGd5cm9Db250cm9sczogZmFsc2UsXG4gICAgICAgICAgLy8gbWluSGVpZ2h0OiAyMDAuMDAsXG4gICAgICAgICAgLy8gbWluV2lkdGg6IDIwMC4wMFxuXG4gICAgICAgICAgLy8gbW91c2VDb250cm9sczogdHJ1ZSxcbiAgICAgICAgICAvLyB0b3VjaENvbnRyb2xzOiB0cnVlLFxuICAgICAgICAgIC8vIGd5cm9Db250cm9sczogZmFsc2UsXG4gICAgICAgICAgLy8gbWluSGVpZ2h0OiAyMDAuMDAsXG4gICAgICAgICAgLy8gbWluV2lkdGg6IDIwMC4wMCxcbiAgICAgICAgICAvLyB3YXZlU3BlZWQ6IDEwLFxuICAgICAgICAgIC8vIHNoaW5pbmVzczogNTAsXG4gICAgICAgICAgLy8gc2NhbGU6IDEuMDAsXG4gICAgICAgICAgLy8gc2NhbGVNb2JpbGU6IDEuMDAsXG5cbiAgICAgICAgICBtb3VzZUNvbnRyb2xzOiB0cnVlLFxuICB0b3VjaENvbnRyb2xzOiB0cnVlLFxuICBneXJvQ29udHJvbHM6IGZhbHNlLFxuICBtaW5IZWlnaHQ6IDIwMC4wMCxcbiAgbWluV2lkdGg6IDIwMC4wMCxcbiAgc2NhbGU6IDEuMDAsXG4gIHNjYWxlTW9iaWxlOiAxLjAwXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHZhbnRhRWZmZWN0KSB2YW50YUVmZmVjdC5kZXN0b3J5KCk7XG4gICAgfTtcbiAgfSwgW3ZhbnRhRWZmZWN0XSk7XG5cblxuXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNvbnRhaW5lcn0+XG4gICAgICA8SGVhZD5cbiAgICAgICAgPHRpdGxlPkNoYWluczwvdGl0bGU+XG5cbiAgICAgIDwvSGVhZD5cblxuICAgICAgPG1haW4gY2xhc3NOYW1lPXtzdHlsZXMubWFpbn0gcmVmPXt2YW50YVJlZn0+XG5cbiAgICAgIDwvbWFpbj5cblxuICAgIDwvZGl2PlxuICApO1xufVxuXG5cblxuIl0sInNvdXJjZVJvb3QiOiIifQ==